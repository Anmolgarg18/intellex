<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>

 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 <script src="https://unpkg.com/feather-icons"></script>
 <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inria+Serif:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <style>
   html, body {
  overflow-x: hidden;
}
    .active-dropdown {
      background-color: rgba(73, 6, 72, 0.15);
      border-top: 3px solid #490648;
      border-bottom: 3px solid #490648;
      color: #490648
    }

    .active-dropdown .icon{
      background-color: #490648 !important;
      color: white;
    }

    .highlight-option {
      background-color: rgba(73, 6, 72, 0.1);
      color: #490648;
    }
      body {
             font-family: "Roboto", sans-serif;
            background-color: #FFFFFF;
            color: #000000;
        }
        :root {
            --accent-color: #490648;
            --secondary-color: #7b1fa2;
            --tertiary-color: #9c27b0;
        }
        .accent-color {
            color: var(--accent-color);
        }
        .accent-bg {
            background-color: var(--accent-color);
        }
        .accent-border {
            border-color: var(--accent-color);
        }
        .trait-card {
            border-bottom: 1px solid #e5e5e5;
        }
        .trait-card:last-child {
            border-bottom: none;
        }
        .btn {
            transition: all 0.3s ease;
        }
        .btn-accent {
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
        }
        .btn-accent:hover {
            background-color: var(--accent-color);
            color: white;
        }
        .btn-accent-filled {
            background-color: var(--accent-color);
            color: white;
        }
        .btn-accent-filled:hover {
            background-color: white;
            color: var(--accent-color);
            border: 2px solid var(--accent-color);
        }
        .score-bar {
            height: 10px;
            background-color: #e5e5e5;
            border-radius: 5px;
            overflow: visible;
            width: 300px;
            position: relative;
            margin: 30px 0;
        }
        .score-fill {
            height: 100%;
            background-color: var(--accent-color);
            border-radius: 5px 0 0 5px;
        }
        .score-pointer {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--accent-color);
            border: 3px solid white;
            box-shadow: 0 0 0 1px var(--accent-color);
            z-index: 10;
        }
        .score-value {
            position: absolute;
            top: -25px;
            transform: translateX(-50%);
            font-weight: 500;
            font-size: 14px;
            color: var(--accent-color);
        }
        .score-label {
            position: absolute;
            bottom: -25px;
            transform: translateX(-50%);
            font-size: 12px;
            color: #666;
            width: auto;
        }
        .trait-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(73, 6, 72, 0.1);
            color: var(--accent-color);
        }
        .bullet-list {
            list-style-type: none;
            padding-left: 0;
        }
        .bullet-list li {
            position: relative;
            padding-left: 1.5rem;
            margin-bottom: 0.5rem;
            line-height: 1.5;
        }
        .bullet-list li:before {
            content: "";
            position: absolute;
            left: 0;
            top: 0.5rem;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--accent-color);
        }
        .implications-section {
            margin-top: 1.5rem;
        }
        .implications-title {
            font-weight: 500;
            color: var(--accent-color);
            margin-bottom: 0.75rem;
            letter-spacing: 0.02em;
        }
       

        .score-marker {
            position: absolute;
            top: -5px;
            height: 20px;
            width: 1px;
            background-color: #999;
        }
        
        .main-content {
            padding: 2rem;
        }
        .tab-button {
            padding: 0.75rem 1.5rem;
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        .tab-button.active {
            color: var(--accent-color);
            border-bottom: 3px solid var(--accent-color);
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .category-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .category-icon {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(73, 6, 72, 0.1);
            color: var(--accent-color);
            margin-right: 1rem;
        }
        .main-header {
            /* padding: 1.5rem 0;
            border-bottom: 1px solid #e5e5e5; */
        }
        .see-more-btn {
            color: var(--accent-color);
            font-weight: 500;
            font-size: 0.9rem;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            margin-top: 0.5rem;
            transition: all 0.2s ease;
        }
        .see-more-btn:hover {
            opacity: 0.8;
        }
        .hidden-bullets {
            display: none;
        }
             .tabssection {
            margin-top: 50px;
      background-color: #ffffff;
      width: 100%;
      display: flex;
      cursor: pointer;
    }

    .tabsection-button {
      
        margin-bottom: 20px;
      padding: 10px 20px;
      background: #ffffff;
      margin-bottom: 0px;
      font-size: 14px;
    }

    .tabsection-button.active {
      background: #ffffff;
      border-bottom: 3px solid #490648;
      color: #490648;
      font-weight: bold;
    }
    .chatbot-panel {
      position: fixed;
      top: 110px;
      right: 0;
      height: 600px;
      width: 420px;
      background-color: #ffffff;
      box-shadow: 0px 10px 20px rgba(0,0,0,0.5);
      display: flex;
      flex-direction: column;
      z-index: 9999;
      border-bottom-left-radius: 8px;
      border-top-left-radius: 8px;
    }

    .chat-header {
      border-top-left-radius: 8px;
      background-color: #490648;
      color: white;
      padding: 16px;
      font-size: 18px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .chat-header .left {
      display: flex;
      align-items: center;
    }

    .chat-header .left span {
      margin-left: 8px;
    }

    .chat-header .close-btn {
      background: transparent;
      color: white;
      border: none;
      font-size: 30px;
      cursor: pointer;
    }

    .chat-header .close-btn:hover {
      color: #f9edf9;          
      transform: scale(1.2);  
      cursor: pointer;        
    }

    .chat-messages {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }

    .message {
      padding: 10px 14px;
      margin-bottom: 10px;
      border-radius: 15px;
      max-width: 75%;
      border: 1px solid #ccc;
    }

    .user-message {
      align-self: flex-end;
      background-color: #490648;
      color: white;
    }

    .bot-message {
      align-self: flex-start;
      background-color: #f9edf9;
    }

    .chat-input {
      display: flex;
      border-top: 1px solid #ccc;
      align-items: center;
      padding: 20px;
    }
    .chat-input-container {
  display: flex;
  width: 400px;
  height: 40px;
  border-radius: 25px;
  overflow: hidden;
  border: 1px solid #ccc;
}

.chat-input-text {
  flex: 1;
  border: none;
  padding: 0 20px;
  font-size: 16px;
  outline: none;
}

.send-button {
  width: 60px;
  background-color: #4b004f; /* dark purple */
  color: white;
  font-size: 20px;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.send-button:hover {
  background-color: #5d005f; /* slightly lighter purple on hover */
}
    .chat-input input {
      flex: 1;
      padding: 10px;
      border: none;
      font-size: 14px;
    }
    
    
    .image-icon{
      height: 40px;
      width: auto;
    }

    .image1-icon{
      height: 30px;
      width: auto;
    }

    .chat-input input:focus,
    .chat-input button:focus {
      outline: none;
    }

    .score-pointer {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #490648;
            border: 3px solid white;
            box-shadow: 0 0 0 1px #490648;
            z-index: 10;
        }
        
        .bar-container {
  position: relative; /* this makes the labels position against it */
  height: 10px;
  background-color: #F3F3F3;
  border: 1px solid grey;
  border-radius: 5px;
  display: flex;
  min-width: 100%;
}

        .bar-fill {
            height: 100%;
            background-color: #490648;
            border-radius: 5px 0 0 5px;
        }
        .bar-divider {
            position: absolute;
            width: 1px;
            height: 100%;
            background-color: grey;
            z-index: 2;
        }
       
       .bar-labels {
  position: absolute;
     /* push it below the bar */
  font-size: 9px;
  color: #888;
  margin-top: 4px;
  width: 100%;
}
        .bar-label {
            position: relative;
           
        }
        .bar-label-0 {
            left: 0;
            transform: translateX(0);
        }
        .bar-label-50 {
            left: 50%;
        }
        .bar-label-100 {
            left: 100%;
            transform: translateX(-100%);
        }
 .risk-indicator {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }
        .risk-high {
            background-color: #e53e3e;
        }
        .risk-medium {
            background-color: #ed8936;
        }
        .risk-low {
            background-color: #38a169;
        }
        .risk-lowbg
        {
           background-color:  rgba(56, 161, 105, 0.1)
        }
          .risk-highbg
        {
           background-color:  rgba(229, 62, 62, 0.1) 
        }
          .risk-mdbg
        {
           background-color:  rgba(237, 137, 54, 0.1)
        }
        .risk-label {
            font-size: 0.75rem;
            color: #555;
        }
        .trait-icon-side-panel {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(73, 6, 72, 0.1);
            color: var(--accent-color);
        }

  </style>

  <script>
     tailwind.config = {
    theme: {
      extend: {
        zIndex: {
          200: '200',
        },
        colors: {
          accent: '#490648',
          'deeppurple': '#490648',
          'light-purple': '#6d1a6d',
          'risk-low': '#10B981',
          'risk-medium': '#F59E0B',
          'risk-high': '#EF4444'
        }
      }
    }
  }
  </script>
</head>
<body class="bg-white">

  <!-- Header -->
 <header class="fixed top-0 left-0 right-0 h-[58px] bg-white text-deeppurple px-6 flex justify-between items-center  z-20 mb-[15px] border-b border-b-gray-300 z-200">

        <div class="flex items-center">
            <h1 class="text-xl font-bold">Intellex.ai</h1>
        </div>
       <div class="flex items-center space-x-4">
  <div class="relative text-left">
    <details class="group">
      <summary class="flex items-center cursor-pointer list-none text-white mr-8">
        <div class="w-8 h-8 rounded-full bg-light-purple flex items-center justify-center">
          <span class="text-xs font-medium">PM</span>
        </div>
        <div class="flex flex-col ms-2 text-left">
          <span class="text-sm text-black">John Doe</span>
          <span class="text-xs text-gray-600">Senior Manager</span>
        </div>
        <svg class="w-4 h-4 ml-2 text-black" fill="none" stroke="currentColor" stroke-width="2"
             viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
        </svg>
      </summary>

      <div
        class="absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg "
      >
        <a
          href="/reset-password"
          class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
        >
          Reset Password
        </a>
        <a
          href="Home.html"
          class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
        >
          Logout
        </a>
      </div>
    </details>
  </div>
</div>

    </header>
<div class="tabssection fixed z-50 mt-[58px] flex items-center   border-b border-b-gray-300 ">
         <a href="Home.html" class="bg-white text-accent text-md my-1 px-4  border-accent  rounded hover:bg-light-purple hover:text-white transition whitespace-nowrap flex items-center gap-2 ms-5">
   <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M15 8a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 0 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 7.5H14.5A.5.5 0 0 1 15 8z"/>
  </svg>
            Back to Home

</a> 
<div class="h-11 w-[1px] ms-[90px] bg-gray-300"></div>
    <div class="flex ms-[40px]">
 
  <a href="summary.html" class="tabsection-button  flex gap-2 items-center" onclick="showTab()">LEADERSHIP SUMMARY <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
  <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
</svg></a>

  <a  id="detailedReportBtn"  href="detail.html"  onclick="handleDetailedClick(event)"  class="tabsection-button   group relative" >
    DETAILED RESULTS

  </a>
  
  <a href="development.html"><div class="tabsection-button active text-gray-500 active" onclick="showTab()">DEVELOPMENT PLAN</div></a>


  <div class="tabsection-button text-gray-500" onclick="showTab()">LEARNING PARTNER
</div>

</div>

</div>
  <div class="flex justify-center items-center">
  

    <!-- Sidebar -->
    <div class="w-[253px] fixed top-[20%] left-[20px] h-auto py-[20px] px-[20px] bg-white border border-sm rounded-[15px] shadow-sm z-10 overflow-y-auto ">
      
      <h2 class="text-xs text-gray-500 font-semibold tracking-widest mb-4 px-4 pb-2">
        REPORT SECTIONS
      </h2>

      <!-- Dropdowns -->
      <div class="relative w-full space-y-2">
        <!-- overall -->
         <div class="relative w-full">
          <div id="dropdownTrigger1" class="dropdown-trigger px-[12px] py-[16px] mb-[8px] font-semibold  cursor-pointer flex justify-between items-center rounded-sm active-dropdown"
             onclick="selectOption(1, 0)"  >
            <div class="flex items-center gap-2">
             <div class ="trait-icon-side-panel mr-3 icon">
           <i data-feather="grid" class="h-4 w-4"></i></div>
              <span class="text-sm">WHAT IS IMPORTANT FOR MY ROLE?</span>
            </div>
            <svg id="arrowIcon1" class="w-4 h-4 transition-transform duration-200 rotate-180" fill="none" stroke="currentColor" stroke-width="2"
                 viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </div>
         

        </div>

        <!-- Personal Attributes -->
        <div class="relative w-full">
          <div id="dropdownTrigger2" class="dropdown-trigger px-[12px] py-[16px] mb-[8px] font-semibold  cursor-pointer flex justify-between items-center rounded-sm "
             onclick="selectOption(2, 0)"  >
            <div class="flex items-center gap-2">
              <div class ="trait-icon-side-panel mr-3 icon">
               <i data-feather="user" class="h-4 w-4"></i></div>
              <span class="text-sm">WHAT ARE ESSENTIAL LEADERSHIP TRAITS?</span>
            </div>
            <svg id="arrowIcon2" class="w-4 h-4 transition-transform duration-200 rotate-180" fill="none" stroke="currentColor" stroke-width="2"
                 viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </div>
         

        </div>

        <!-- Work Competencies -->
        <div class="relative w-full">
          <div id="dropdownTrigger3" class="dropdown-trigger px-[12px] py-[16px] mb-[8px] font-semibold  cursor-pointer flex justify-between items-center rounded-sm"
            onclick="selectOption(3, 0)"  >
            <div class="flex items-center gap-2">
              <div class ="trait-icon-side-panel mr-3 icon">
              <i data-feather="briefcase" class="h-4 w-4"></i></div>
              <span class="text-sm">Work Competencies</span>
            </div>
            <svg id="arrowIcon3" class="w-4 h-4 transition-transform duration-200 rotate-180" fill="none" stroke="currentColor" stroke-width="2"
                 viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </div>
        </div>
      </div>
    </div>

    <!---chatwindow-->
    <div id="chatsection" style="display: none">
    <div class="chatbot-panel" id="chatPanel">
    <div class="chat-header">
      <div class="left">
        <img src="chatbot.png" class="image-icon"><span>Intellex Coach.AI<br>
        <div style="font-size: 14px;">Your personal growth navigator</div>
      </span>
      </div>
      <button class="close-btn" onclick="hideBox()">×</button>
    </div>

    <div class="chat-messages" id="chatMessages">
      <div class="bot-message message">I'm here to provide deeper insights into your development journey and help you navigate your growth opportunities. Based on the recent feedback and assessments, I've compiled tailored recommendations to accelerate your professional development. What would you like to do today?</div>
    </div>

    <div class="chat-input">
      <img src="amplify.png" class="image1-icon">
      <span class="chat-input-container">
      <input type="text" id="userInput" placeholder="Type your message..." class="chat-input-text" />
      <button onclick="sendMessage()" title="Send" class="send-button">
        &#8594;
        </button>
      </span>
  </div>
  </div>
  </div>

    <!-- Main Content Area -->
   <div id="mainContent" class="ml-64 mt-32 px-6 relative z-10 w-full">
  <!-- Content gets injected dynamically here -->
</div>
  </div>

  <!-- JS -->
<script>
  let selectedIndexes = { 1: 0 };

  const contentMap = {
    '1-0': {
      title: "Overall",
      competencies: [
        {
          name: "DRIVE AND ENERGY",
          description: "Deep insight into an executive’s personality and learning agility that provides a realistic picture of how a person will perform in a given role ",
          score: 75
        },
        {
          name: "SOCIAL ACUMEN",
          description: "Understanding individual strengths and preferences in making things happen at work ",
          score: 80
        },
         {
          name: "PROBLEM SOLVING",
          description: "Understanding individual strengths and preferences in making things happen at work ",
          score: 80
        },
         {
          name: "CHANGE ORIENTATION",
          description: "Understanding individual strengths and preferences in making things happen at work ",
          score: 80
        },
        {
          name: "RISK TAKING",
          description: "Understanding individual strengths and preferences in making things happen at work ",
          score: 80
        },
         {
          name: "COLLABORATIVE LEARNING",
          description: "Understanding individual strengths and preferences in making things happen at work ",
          score: 80
        },
        {
          name: "EXECUTING",
          description: "Understanding individual strengths and preferences in making things happen at work ",
          score: 80
        },
        {
          name: "RELATIONSHIP BUILDING",
          description: "Understanding individual strengths and preferences in making things happen at work ",
          score: 80
        },
        {
          name: "INFLUENCING",
          description: "Understanding individual strengths and preferences in making things happen at work ",
          score: 80
        },
        {
          name: "STRATEGIC THINKING",
          description: "Understanding individual strengths and preferences in making things happen at work ",
          score: 80
        }
      ]
    },
    '2-0': {
      title: "Personal Attributes",
      competencies: [
        {
          name: "Energy and Drive ",
          description: "Degree to which a person needs and/or enjoys social interaction Intrinsic motivation, enthusiasm, and persistence in pursuing goals, inspiring others, and overcoming challenges.",
        },
        {
          name: "Social Acumen",
          description: "The ability to understand, navigate, and influence interpersonal relationships effectively.",
          score: 68
        },
        {
          name: "Problem Solving",
          description: "The ability to analyze complex problems, view them from multiple perspectives, assess risk and make decisions",
          score: 78
        },
        {
          name: "Change Orientation",
          description: "How readily the individual embraces and drives change—both in thought and action.",
          score: 68
        },
        {
          name: "Risk Taking",
          description: "Willingness to step outside comfort zones—by taking on new roles or confronting tough issues",
          score: 68
        },
        {
          name: "Collaborating Learning",
          description: "The degree to which the person leverages others—through teaming, feedback — to learn fast.",
          score: 68
        },
      ]
    },
    '3-0': {
      title: "Work Competencies",
      competencies: [
        {
          name: "Executing ",
          description: "Making things happen ",
          score: 70
        },
        {
          name: "Influencing",
          description: "Taking charge, speak up and make sure others are heard",
          score: 68
        },
        {
          name: "Relationship Building",
          description: "Building strong relationships that hold a team together and make it greater than the sum of its parts",
          score: 78
        },
        {
          name: "Strategic Thinking",
          description: "Absorb and analyze information that informs better decision",
          score: 68
        }
      ]
    },
    
     
    // Add more sections as needed
  };

  // function toggleDropdown(id) {
  //   for (let i = 1; i <= 3; i++) {
  //     const trigger = document.getElementById(`dropdownTrigger${i}`);
  //     const menu = document.getElementById(`dropdownMenu${i}`);
  //     const arrow = document.getElementById(`arrowIcon${i}`);

  //     if (i === id) {
  //       const isOpen = !menu.classList.contains("hidden");
  //       menu.classList.toggle("hidden");
  //       arrow.classList.toggle("rotate-180");
  //       highlightSelectedOption(id);
  //     } else {
  //       menu.classList.add("hidden");
  //       arrow.classList.remove("rotate-180");
  //     }
  //   }
  // }

  function selectOption(id, index) {
    selectedIndexes = {}; // reset
    selectedIndexes[id] = index;

    for (let i = 1; i <= 3; i++) {

        document.getElementById(`dropdownTrigger${i}`).classList.remove("active-dropdown");
      document.getElementById(`arrowIcon${i}`).classList.remove("rotate-[270deg]");
    }

   document.getElementById(`dropdownTrigger${id}`).classList.add("active-dropdown");
   document.getElementById(`arrowIcon${id}`).classList.add("rotate-[270deg]");
    updateMainContent(id, index);
  }



function updateMainContent(id, index) {
  const key = `${id}-${index}`;
  const content = contentMap[key];
  const main = document.getElementById("mainContent");

  if (!content) {
    main.innerHTML = `<h2 class='text-xl font-bold text-accent mb-4'>Not Found</h2><p class='text-gray-700'>No content available.</p>`;
    return;
  }

  let html = `
    <div class="main-header px-[70px] mt-[30px]">
      <div class="flex items-center justify-between mb-6">
        <div class="flex items-center">
          <h1 class="text-3xl font-bold accent-color ml-3">Behavioral Dimensions</h1>
        </div>
        <div class="flex flex-col items-center">
          <img src="chatbot.svg" class="w-auto h-[60px] transition-transform duration-300 animate-bounce" onclick="toggleBox()" />
          <span class="text-[#490648] text-sm font-medium">Question? Ask</span>
        </div>
      </div>

      <!-- Rounded table wrapper -->
      <div class="overflow-hidden rounded-t-xl shadow">
        <!-- Custom table header using grid -->
        <div class="bg-[#490648] text-white uppercase font-bold text-sm">
          <div class="grid grid-cols-[200px_1fr_150px_95px] px-4 py-3">
            <div>Attribute</div>
            <div class="text-center">Your Score</div>
            <div class="text-center">Risk Level</div>
            <div class="text-center">Details</div>
          </div>
        </div>

        <!-- Actual table content -->
        <table class="w-full text-sm text-gray-800 border-collapse bg-white">
          <tbody>
  `;

  content.competencies.forEach((c) => {
    const score = c.score || 0;
    html += `
      <tr class="bg-[#fcf9ff] border-t">
        <td class="px-4 py-3 font-semibold uppercase align-top">${c.name}</td>
        <td class="px-4 py-3 align-top">
          <div class="flex items-center gap-3">
            <div class="relative w-full h-4 bg-gray-200 rounded-md overflow-hidden">
              <div class="absolute top-0 left-0 h-full bg-accent transition-all duration-700 ease-in-out bar-fill" data-width="${score}%"></div>
              <div class="absolute top-[-5px] w-4 h-4 rounded-full bg-[#490648] border border-white transition-all score-pointer" data-position="${score}%"></div>
              <div class="absolute left-[33%] top-0 h-full w-[2px] bg-white/50"></div>
              <div class="absolute left-[66%] top-0 h-full w-[2px] bg-white/50"></div>
            </div>
            <div class="text-xs text-gray-600">${score}%</div>
          </div>
          <div class="relative mt-2 text-xs">
            <span class="absolute left-[5%]">Below Average</span>
            <span class="absolute left-[35%]">Average</span>
            <span class="absolute left-[65%]">Above Average</span>
          </div>
        </td>
        <td class="px-4 py-3 align-top">
          <div class="flex items-center gap-2 px-2 py-1 rounded-xl bg-yellow-100">
            <span class="w-2 h-2 rounded-full bg-yellow-500"></span>
            <span class="text-xs font-medium text-yellow-700">Medium Risk</span>
          </div>
        </td>
        <td class="px-4 py-3 text-center align-top">
          <button class="toggle-accordion text-[#490648] hover:text-purple-800 transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path class="icon-path" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
          </button>
        </td>
      </tr>
      <tr class="hidden accordion-content-row">
        <td colspan="4" class="pt-2 pb-4 px-6 text-sm text-gray-600">
          <div class="space-y-4">
            <details class="group border-b pb-2">
              <summary class="flex items-center justify-between cursor-pointer font-semibold text-green-700 uppercase">
                <span class="flex items-center gap-2">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  Core Strengths to Leverage
                </span>
                <svg class="w-4 h-4 transform transition-transform group-open:rotate-180 text-[#490648]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </summary>
              <ul class="list-disc pl-6 mt-2 text-gray-700 space-y-1">
                <li>Consistently demonstrates high energy levels in all work activities</li>
                <li>Takes initiative without being prompted</li>
                <li>Shows resilience when facing obstacles</li>
                <li>Motivates team members through personal example</li>
              </ul>
            </details>
            <details class="group border-b pb-2">
              <summary class="flex items-center justify-between cursor-pointer font-semibold text-yellow-600 uppercase">
                <span class="flex items-center gap-2">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 2a10 10 0 1010 10A10 10 0 0012 2z" />
                  </svg>
                  Risk Areas
                </span>
                <svg class="w-4 h-4 transform transition-transform group-open:rotate-180 text-[#490648]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </summary>
              <ul class="list-disc pl-6 mt-2 text-gray-700 space-y-1">
                <li>May overwhelm others with pace and intensity</li>
                <li>Could risk burnout if energy is not properly channeled</li>
                <li>Might become frustrated with team members who work at a different pace</li>
              </ul>
            </details>
          </div>
        </td>
      </tr>
    `;
  });

  html += `
          </tbody>
        </table>
      </div>
    </div>
  `;

  main.innerHTML = html;

  // Accordion toggle logic
  document.querySelectorAll('.toggle-accordion').forEach((btn) => {
    btn.addEventListener('click', () => {
      const row = btn.closest('tr');
      const nextRow = row.nextElementSibling;
      const iconPath = btn.querySelector('.icon-path');

      nextRow.classList.toggle('hidden');
      iconPath.setAttribute('d', nextRow.classList.contains('hidden') ? 'M12 4v16m8-8H4' : 'M20 12H4');
    });
  });

  // Animate score bars
  document.querySelectorAll('.bar-fill').forEach(el => {
    const targetWidth = el.getAttribute('data-width') || '0%';
    el.style.width = '0%';
    setTimeout(() => {
      el.style.width = targetWidth;
    }, 100);
  });

  // Animate pointer dot
  document.querySelectorAll('.score-pointer').forEach(el => {
    const targetLeft = el.getAttribute('data-position') || '0%';
    el.style.left = '0%';
    setTimeout(() => {
      el.style.left = targetLeft;
    }, 100);
  });
}



  function toggleBox() {
 document.getElementById("chatsection").style.display = "block";
}

function hideBox() {
    document.getElementById("chatsection").style.display = "none";
  }

  function sendMessage() {
      const input = document.getElementById('userInput');
      const msg = input.value.trim();
      const chatMessages = document.getElementById('chatMessages');

      if (msg !== "") {
        // User message
        const userMsg = document.createElement('div');
        userMsg.className = 'user-message message';
        userMsg.textContent = msg;
        chatMessages.appendChild(userMsg);

        // Simulated bot reply
        setTimeout(() => {
          const botMsg = document.createElement('div');
          botMsg.className = 'bot-message message';
          botMsg.textContent = "Thank you for you reply";
          chatMessages.appendChild(botMsg);
          chatMessages.scrollTop = chatMessages.scrollHeight;
        }, 500);

        input.value = "";
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }
    }

    // Enter key to send message
    document.getElementById('userInput').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        sendMessage();
      }
    });



 

  // Default load first option
  window.addEventListener("DOMContentLoaded", () => {
    selectOption(1, 0);
  });
  feather.replace();

</script>


</body>
</html>
