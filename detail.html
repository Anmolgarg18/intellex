<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Attributes Dashboard</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
        <style>
        :root {
            --primary-color: #490648;
            --primary-light: #6d1a6c;
            --primary-lighter: #8f3c8e;
            --primary-lightest: #b26db1;
            --risk-high: #ef4444;
            --risk-medium: #f59e0b;
            --risk-low: #10b981;
        }
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f0f4f8;
        }
        .rating-scale {
            display: flex;
            align-items: center;
            width: 100%;
            position: relative;
            padding: 0 8px;
            margin: 10px 0;
        }
        .rating-scale-bg {
            height: 12px;
            width: 100%;
            background: #e2e8f0;
            border-radius: 6px;
            position: relative;
            overflow: hidden;
            border: 1px solid #cbd5e1;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }
        .rating-scale-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-lightest), var(--primary-color));
            border-radius: 6px;
        }
        .rating-scale-marker {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--primary-color);
            border-radius: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 3;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            border: 2px solid #fff;
            outline: 1px solid #cbd5e1;
        }
        .rating-separator {
            position: absolute;
            height: 18px;
            width: 2px;
            background-color: #94a3b8;
            top: 50%;
            transform: translateY(-50%);
            z-index: 2;
            box-shadow: 0 0 2px rgba(0,0,0,0.1);
        }
        .separator-1 {
            left: 33.33%;
        }
        .separator-2 {
            left: 66.66%;
        }
        .rating-tick {
            position: absolute;
            bottom: -2px;
            width: 1px;
            height: 4px;
            background-color: #94a3b8;
            opacity: 0.7;
        }
        .tick-1 { left: 10%; }
        .tick-2 { left: 20%; }
        .tick-3 { left: 30%; }
        .tick-4 { left: 40%; }
        .tick-5 { left: 50%; }
        .tick-6 { left: 60%; }
        .tick-7 { left: 70%; }
        .tick-8 { left: 80%; }
        .tick-9 { left: 90%; }
        
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease;
            padding-top: 0;
            padding-bottom: 0;
        }
        .accordion-content.active {
            max-height: 2000px;
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        .sub-accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease;
            padding-top: 0;
            padding-bottom: 0;
        }
        .sub-accordion-content.active {
            max-height: 1000px;
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        .importance-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
            text-align: center;
            display: inline-block;
            min-width: 80px;
            background-color: white;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .risk-badge {
  padding: 4px 20px;               /* Make it slightly bigger */
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  gap: 6px;                        /* Add space between dot and text */
  background-color: white;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
  min-width: max-content;          /* Ensures it doesn't collapse */
}
        .risk-badge-high {
            color: var(--risk-high);
            border: 1px solid var(--risk-high);
        }
        .risk-badge-medium {
            color: var(--risk-medium);
            border: 1px solid var(--risk-medium);
        }
        .risk-badge-low {
            color: var(--risk-low);
            border: 1px solid var(--risk-low);
        }
        .risk-circle {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
        }
        .risk-high {
            background-color: var(--risk-high);
        }
        .risk-medium {
            background-color: var(--risk-medium);
        }
        .risk-low {
            background-color: var(--risk-low);
        }
        .toggle-details {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: #f3f4f6;
            transition: all 0.2s ease;
            border: 1px solid #e5e7eb;
            position: relative;
        }
        .toggle-details:hover {
            background-color: #e5e7eb;
        }
        .toggle-icon {
            font-size: 14px;
            width: 14px;
            height: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            transition: transform 0.2s ease;
        }
        .toggle-details.active .toggle-icon {
            transform: rotate(0deg);
        }
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.2s ease;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
            background-color: white;
        }
        .back-button:hover {
            background-color: var(--primary-color);
            color: white;
        }
        .section-header {
            display: flex;
            align-items: center;
            padding: 16px 0;
            margin-bottom: 0;
            position: relative;
            font-weight: 500;
            font-size: 1.1rem;
            letter-spacing: 0.5px;
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
        }
        .section-header i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        .primary-bg {
            background-color: var(--primary-color);
        }
        .primary-text {
            color: var(--primary-color);
        }
        .primary-border {
            border-color: var(--primary-color);
        }
        .primary-hover:hover {
            background-color: var(--primary-light);
        }
        .section-container {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .section-container.hidden {
            display: none;
        }
        .filter-label {
            font-weight: 500;
            color: #4b5563;
            margin-bottom: 4px;
            font-size: 0.85rem;
        }
        .custom-select {
            position: relative;
            display: inline-block;
            width: 100%;
        }
        .select-selected {
            background-color: white;
            border: 1px solid #d1d5db;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s ease;
            font-size: 0.85rem;
        }
        .select-selected:hover {
            border-color: var(--primary-color);
        }
        .select-selected:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(73, 6, 72, 0.1);
        }
        .select-items {
            position: absolute;
            background-color: white;
            top: 100%;
            left: 0;
            right: 0;
            z-index: 99;
            margin-top: 4px;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border: 1px solid #e5e7eb;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: all 0.3s ease;
        }
        .select-items.show {
            max-height: 300px;
            opacity: 1;
        }
        .select-item {
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.85rem;
        }
        .select-item:hover {
            background-color: #f3f4f6;
        }
        .select-item.selected {
            background-color: #f3f4f6;
            font-weight: 500;
            color: var(--primary-color);
        }
        .tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #1f2937;
            color: white;
            padding: 6px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease, visibility 0.2s ease, transform 0.2s ease;
            transform: translateX(-50%) translateY(5px);
            z-index: 10;
            pointer-events: none;
            margin-bottom: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #1f2937 transparent transparent transparent;
        }
        .toggle-details:hover .tooltip {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
        }
        .rating-segment-labels {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 8px;
            font-size: 0.7rem;
            color: #64748b;
            font-weight: 500;
        }
        .rating-segment-label {
            width: 33.33%;
            text-align: center;
        }
        .rating-segment-label:first-child {
            text-align: left;
        }
        .rating-segment-label:last-child {
            text-align: right;
        }
        .category-filter {
            font-size: 0.85rem;
            padding: 6px 12px;
            border-radius: 4px;
            font-weight: 500;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .attribute-icon {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(73, 6, 72, 0.1);
            color: var(--primary-color);
            margin-right: 12px;
            flex-shrink: 0;
        }
        .sub-attribute-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(73, 6, 72, 0.05);
            color: var(--primary-color);
            margin-right: 10px;
            flex-shrink: 0;
            font-size: 0.8rem;
        }
        .filter-icon {
            font-size: 0.9rem;
        }
        .attribute-name {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }
        .sub-attribute-container {
            background-color: #f9fafb;
            border-radius: 8px;
            margin-bottom: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border: 1px solid #e5e7eb;
        }
        .sub-attribute-header {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .sub-attribute-header:hover {
            background-color: #f3f4f6;
        }
        .sub-attribute-content {
            padding: 0 16px;
            background-color: white;
            border-top: 1px solid #e5e7eb;
        }
        .implications-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }
        .implications-card {
            background-color: white;
            border-radius: 6px;
            padding: 16px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border: 1px solid #e5e7eb;
        }
        .implications-title {
            font-weight: 500;
            color: var(--primary-color);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        .implications-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .implications-list li {
            position: relative;
            padding-left: 20px;
            margin-bottom: 8px;
            font-size: 0.85rem;
            color: #4b5563;
            line-height: 1.5;
        }
       
        .sub-attribute-name {
            font-weight: 500;
            color: #374151;
            font-size: 0.95rem;
        }
        .sub-rating-container {
            display: grid;
            grid-template-columns: 3fr 5fr 2fr;
            gap: 10px;
            align-items: center;
            width: 100%;
        }
        .toggle-sub-details {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: #f3f4f6;
            transition: all 0.2s ease;
            border: 1px solid #e5e7eb;
        }
        .toggle-sub-details:hover {
            background-color: #e5e7eb;
        }

          .chatbot-panel {
  position: fixed;
  top: 110px;
  right: 0;
  height: 600px;
  width: 420px;
  background-color: #ffffff;
  box-shadow: 0px 10px 20px rgba(0,0,0,0.5);
  display: flex;
  flex-direction: column;
  z-index: 9999;
  border-bottom-left-radius: 8px;
  border-top-left-radius: 8px;
}

.chat-header {
  border-top-left-radius: 8px;
  background-color: #490648;
  color: white;
  padding: 16px;
  font-size: 18px;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.chat-header .left {
  display: flex;
  align-items: center;
}
.chat-header .left span {
  margin-left: 8px;
}
.chat-header .close-btn {
  background: transparent;
  color: white;
  border: none;
  font-size: 30px;
  cursor: pointer;
}
.chat-header .close-btn:hover {
  color: #f9edf9;
  transform: scale(1.2);
}

.chat-messages {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}

.message {
  padding: 10px 14px;
  margin-bottom: 10px;
  border-radius: 15px;
  max-width: 75%;
  border: 1px solid #ccc;
}

.user-message {
  align-self: flex-end;
  background-color: #490648;
  color: white;
}

.bot-message {
  align-self: flex-start;
  background-color: #f9edf9;
}

.chat-input {
  display: flex;
  border-top: 1px solid #ccc;
  align-items: center;
  padding: 20px;
}

.chat-input-container {
  display: flex;
  width: 400px;
  height: 40px;
  border-radius: 25px;
  overflow: hidden;
  border: 1px solid #ccc;
}

.chat-input-text {
  flex: 1;
  border: none;
  padding: 0 20px;
  font-size: 16px;
  outline: none;
}

.send-button {
  width: 60px;
  background-color: #4b004f;
  color: white;
  font-size: 20px;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.send-button:hover {
  background-color: #5d005f;
}

.image-icon {
  height: 40px;
  width: auto;
}
.image1-icon {
  height: 30px;
  width: auto;
}
.bullet-circle {
  list-style-type: circle;
  padding-left: 20px; /* optional for indentation */
}
.modal-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: rgba(0,0,0,0.6);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s;
  padding: 20px;
}
.modal-overlay.visible {
  opacity: 1;
  pointer-events: auto;
}

.modal-container {
  background: #fff;
  border-radius: 18px;
  max-width: 900px;
  width: 100%;
  max-height: 85vh;
  overflow-y: auto;
  padding: 2.5rem;
  position: relative;
  box-shadow: 0 15px 35px rgba(73, 6, 72, 0.15);
  transform: translateY(20px);
  opacity: 0;
  transition: transform 0.4s, opacity 0.4s;
}
.modal-overlay.visible .modal-container {
  transform: translateY(0);
  opacity: 1;
}

.close-button {
  position: absolute;
  top: 15px; right: 15px;
  background: #490648;
  color: #fff;
  width: 32px; height: 32px;
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 18px;
  cursor: pointer;
  border: 2px solid #fff;
  box-shadow: 0 2px 8px rgba(73, 6, 72, 0.25);
  transition: background 0.2s, transform 0.2s;
  z-index: 10;
}
.close-button:hover {
  background: #5a0759;
  transform: scale(1.1);
}

.cards-container {
  display: flex;
  gap: 20px;
  width: 100%;
}
.card {
  background: #fff;
  border-radius: 14px;
  padding: 1.5rem;
  flex: 1;
  box-shadow: 0 4px 12px rgba(73, 6, 72, 0.08);
  border: 1px solid rgba(73, 6, 72, 0.06);
  display: flex;
  flex-direction: column;
}
.card-header {
  display: flex;
  align-items: center;
  margin-bottom: 1rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid rgba(73, 6, 72, 0.08);
}
.card-icon {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-right: 12px;
  background-color: #f9f6fa;
  min-width: 36px;
  height: 36px;
  border-radius: 10px;
}
.card-icon svg {
  width: 20px;
  height: 20px;
  fill: #490648;
}
.card-title {
  color: #490648;
  font-size: 18px;
  font-weight: 600;
  margin: 0;
  letter-spacing: 0.01em;
}
ul {
  list-style: none;
  padding-left: 0;
  margin: 0;
}
li {
  color: #2D2D2D;
  font-size: 14px;
  padding-left: 1.25rem;
  position: relative;
  margin-bottom: 0.6rem;
  line-height: 1.4;
}
li:last-child {
  margin-bottom: 0;
}
li:before {
  content: "";
  position: absolute;
  left: 0.25rem;
  top: 0.5rem;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background-color: #490648;
}

        @media (max-width: 768px) {
            .implications-container {
                grid-template-columns: 1fr;
            }
            .sub-rating-container {
                grid-template-columns: 1fr;
            }
        }
        </style>
    </head>
    <script>
   window.openworkInfoPanel = function (el) {
     console.log("Info icon clicked"); 
  const type = el.dataset.type;
  const subName = el.dataset.subName;
 console.log("subName:", subName); 
  let ideatils = [];

  if (type === "sub" && subName && worksubAttributeInsights[subName]) {
    ideatils = [worksubAttributeInsights[subName]];
  }

  openSidePanel(ideatils);
}

 window.openInfoPanel = function (el) {
  const type = el.dataset.type;
  const mainIndex = parseInt(el.dataset.mainIndex, 10);

  let ideatils = [];

  if (type === "main") {
    ideatils = personalAttributes[mainIndex]?.ideatils;
  } else if (type === "sub") {
    const subIndex = parseInt(el.dataset.subIndex, 10);
    ideatils = personalAttributes[mainIndex]?.subAttributes?.[subIndex]?.ideatils;
  }

  openSidePanel(ideatils);
};
function openSidePanel(ideatils) {
  const panel = document.getElementById('side-panel');
  const title = document.getElementById('side-panel-title');
  const content = document.getElementById('side-panel-content');

  if (!ideatils || ideatils.length === 0) {
    title.textContent = "Details";
    content.innerHTML = "<p>No additional details available.</p>";
  } else {
    const detail = ideatils[0];
    title.textContent = detail.title || "Details";

    // Build HTML parts conditionally
    let html = `<p>${detail.description || ""}</p>`;

    if (Array.isArray(detail.bullets) && detail.bullets.length > 0) {
    html += `<ul class="bullet-circle">${detail.bullets.map(b => `<li>${b}</li>`).join('')}</ul>`;

    }

    if (Array.isArray(detail.paragraphs) && detail.paragraphs.length > 0) {
      html += detail.paragraphs.map(p => `<p>${p}</p>`).join('');
    }

    content.innerHTML = html;
  }

  panel.style.display = 'block';
}
    </script>
    <body>
        <header class="fixed top-0 left-0 right-0 h-[58px] bg-white text-[#490648] px-6 flex justify-between items-center border-b border-b-gray-300 z-20">
            <div class="flex items-center">
                <h1 class="text-xl font-bold">Intellex.ai</h1>
            </div>
            <div class="flex items-center space-x-4">
                <div class="relative text-left">
                    <details class="group">
                        <summary class="flex items-center cursor-pointer list-none text-white mr-8">
                            <div class="w-8 h-8 rounded-full bg-[#490648] flex items-center justify-center">
                                <span class="text-xs font-medium">PM</span>
                            </div>
                            <div class="flex flex-col ms-2 text-left">
                                <span class="text-sm text-black">John Doe</span>
                                <span class="text-xs text-gray-600">Senior Manager</span>
                            </div>
                            <svg
                                class="w-4 h-4 ml-2 text-black"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                viewBox="0 0 24 24"
                            >
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </summary>
                        <div class="absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg">
                            <a href="/reset-password" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Reset Password</a>
                            <a href="index.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Logout</a>
                        </div>
                    </details>
                </div>
            </div>
        </header>
        <div class="container mx-auto px-4 py-8 max-w-6xl mt-[50px]">
            <!-- Back Button -->
            <div class="mb-6">
                <a href="Home.html" class="back-button">
                    <i class="fas fa-arrow-left"></i>
                    <span>Back to Home</span>
                </a>
            </div>
            <!-- Unified Filter Section - Single Line -->
            <div class="bg-white rounded-lg shadow-md p-4 mb-8">
                <div class="flex flex-wrap items-end gap-4">
                    <!-- Category Filter -->
                    <div class="flex-grow">
                        <div class="filter-label">Filter by Category</div>
                        <div class="flex flex-wrap gap-2">
                            <button class="category-filter primary-bg text-white primary-hover transition" data-category="all">
                                <i class="fas fa-layer-group filter-icon"></i>
                                <span>All Categories</span>
                            </button>
                            <button class="category-filter bg-gray-200 text-gray-700 hover:bg-gray-300 transition" data-category="personal">
                                <i class="fas fa-user filter-icon"></i>
                                <span>Personal Attributes</span>
                            </button>
                            <button class="category-filter bg-gray-200 text-gray-700 hover:bg-gray-300 transition" data-category="work">
                                <i class="fas fa-briefcase filter-icon"></i>
                                <span>Work Competencies</span>
                            </button>
                            <button class="category-filter bg-gray-200 text-gray-700 hover:bg-gray-300 transition" data-category="leadership">
                                <i class="fas fa-crown filter-icon"></i>
                                <span>Leadership Traits</span>
                            </button>
                        </div>
                    </div>
                    <!-- Importance Filter Dropdown -->
                    <div class="w-48">
                        <div class="filter-label">Filter by Importance</div>
                        <div class="custom-select">
                            <div class="select-selected" id="importance-select">
                                <span>All Importance</span>
                                <i class="fas fa-chevron-down text-gray-500"></i>
                            </div>
                            <div class="select-items" id="importance-options">
                                <div class="select-item selected" data-value="all">All Importance</div>
                                <div class="select-item" data-value="high">High</div>
                                <div class="select-item" data-value="medium">Medium</div>
                                <div class="select-item" data-value="low">Low</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button onclick="toggleBox()" class="fixed top-[110px] right-[60px] z-50 bg-[#490648] hover:bg-[#5c0b5a] text-white px-4 py-4 rounded-[100%] shadow-lg transition">
                <img src="chatbot.png" class="h-[40px] w-auto" alt="">
            </button>
            <!-- Chatbot Panel -->
            <div id="chatsection" class="fixed right-0 top-[50px] h-[calc(100vh-50px)] flex flex-col items-end z-50 hidden">
                <div id="chatPanel" class="flex flex-col h-full w-[350px] max-w-full bg-white rounded-l-xl shadow-2xl">
                    <!-- Header -->
                    <div class="flex items-center px-4 py-3 border-b rounded-tl-xl bg-[#490648]">
                        <img src="chatbot.png" alt="Bot Icon" class="w-10 h-10 rounded-lg mr-3">
                        <div>
                            <span class="font-semibold text-white">Insights Partner</span>
                            <br>
                            <span class="text-[#d9a8ee] text-xs">Your personal growth navigator</span>
                        </div>
                        <button onclick="hideBox()" class="ml-auto text-2xl text-white hover:text-[#d9a8ee]">&times;</button>
                    </div>
                    <!-- Chat Messages -->
                    <div id="chatMessages" class="flex-1 px-4 py-3 overflow-y-auto space-y-2 bg-gray-50"></div>
                    <!-- Chat Input -->
                    <div class="flex items-center px-4 py-3 border-t bg-white rounded-bl-xl">
                        <img src="amplify.png" alt="Icon" class="w-7 h-7 mr-2">
                        <input
                            type="text"
                            id="userInput"
                            placeholder="Type your message..."
                            class="flex-1 rounded-full border border-gray-300 px-4 py-2 text-base focus:outline-none focus:border-[#490648] transition"
                        >
                        <button onclick="sendMessage()" class="ml-2 bg-[#490648] text-white rounded-full px-5 py-2 hover:bg-[#35033a] transition text-xl">
                            &#8594;
                        </button>
                    </div>
                </div>
            </div>
            <!-- Personal Attributes Section -->
            <div id="personal-section" class="section-container mb-10">
                <div class="section-header">
                    <i class="fas fa-user"></i>
                    <span>Personal Attributes</span>
                </div>
                <!-- Attributes List -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <!-- Header -->
                    <div class="grid grid-cols-12 bg-gray-100 p-4 border-b border-gray-200">
                        <div class="col-span-3 font-medium text-gray-700 pl-4">Attribute</div>
                        <div class="col-span-2 font-medium text-gray-700 text-center">Importance</div>
                        <div class="col-span-5 font-medium text-gray-700 text-center">Your Rating</div>
                        <div class="col-span-2 font-medium text-gray-700 text-start ms-2">Potential Risk</div>
                    </div>
                    <!-- Attribute Items -->
                    <div id="personal-attributes-container">
                        <!-- Personal attributes will be dynamically populated here --></div>
                </div>
            </div>
            <!-- Work Competencies Section -->
            <div id="work-section" class="section-container mb-10">
                <div class="section-header">
                    <i class="fas fa-briefcase"></i>
                    <span>Work Competencies</span>
                </div>
                <!-- Attributes List -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <!-- Header -->
                    <!-- Attribute Items -->
                    <div id="work-attributes-container">
                        <!-- Work competencies will be dynamically populated here --></div>
                </div>
            </div>
            <!-- Leadership Traits Section -->
            <div id="leadership-section" class="section-container mb-10">
                <div class="section-header">
                    <i class="fas fa-crown"></i>
                    <span>Leadership Traits</span>
                </div>
                <!-- Attributes List -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">
                    <!-- Header -->
                    <div class="grid grid-cols-12 bg-gray-100 p-4 border-b border-gray-200">
                        <div class="col-span-3 font-medium text-gray-700 pl-4">Leadership Trait</div>
                        <div class="col-span-2 font-medium text-gray-700 text-center">Importance</div>
                        <div class="col-span-5 font-medium text-gray-700 text-center">Your Rating</div>
                    </div>
                    <!-- Attribute Items -->
                    <div id="leadership-attributes-container">
                        <!-- Leadership traits will be dynamically populated here --></div>
                </div>
            </div>
            <!-- Add this just before the closing </body> tag -->
            <div id="side-panel" style="display:none; position:fixed; top:0; right:0; width:350px; height:100vh; background:#fff; box-shadow:-2px 0 10px rgba(0,0,0,0.1); z-index:2000; overflow-y:auto;">
                <div style="padding:20px; border-bottom:1px solid #eee; display:flex; justify-content:space-between; align-items:center;">
                    <span id="side-panel-title" style="font-weight:bold; color:#490648;">Details</span>
                    <button onclick="document.getElementById('side-panel').style.display='none'" style="background:none; border:none; font-size:20px;">&times;</button>
                </div>
                <div id="side-panel-content" style="padding:20px;"></div>
            </div>
        </div>
        <!-- popup for implications -->
        <div id="implicationModalOverlay" class="modal-overlay">
            <div class="modal-container">
                <div class="close-button" onclick="closeImplications()">✕</div>
                <div class="cards-container" id="implicationCardsContainer"></div>
            </div>
        </div>
        <script>
        // Personal Attributes data with icons and sub-attributes
        const personalAttributes = [
            {
                name: "Energy & Drive",
                rating: 0.8,
                importance: "high",
                risk: "low",
                details: "Demonstrates exceptional energy levels and self-motivation. Consistently shows initiative and perseverance in pursuing goals. Maintains high productivity even during challenging periods and inspires others through their enthusiasm and commitment.",
                category: "personal",
                icon: "fa-bolt",
                subAttributes: [
                    {
                        name: "Ambition",
                        rating: 0.85,
                        icon: "fa-flag",
                        behavioralImplications: [
                            "Proactively identifies opportunities without being prompted",
                            "Takes action before being asked or required to do so",
                            "Demonstrates self-starting behavior in new situations",
                            "Seeks out additional responsibilities beyond assigned tasks",
                            "Proposes solutions rather than just highlighting problems"
                        ],
                        leadershipImplications: [
                            "Sets a positive example for team members to be proactive",
                            "Creates a culture of ownership and accountability",
                            "Anticipates obstacles and addresses them before they become issues",
                            "Identifies strategic opportunities that others might miss",
                            "Drives innovation through self-directed exploration"
                        ],
                        potentialChallenges: [
                            "May sometimes act without sufficient consultation",
                            "Could occasionally pursue initiatives that aren't aligned with priorities",
                            "Might take on too many projects simultaneously",
                            "Could create perception of overstepping boundaries",
                            "May need to balance initiative with patience for organizational processes"
                        ],
                         ideatils: [
    {
    title: "Ambition",
    description: "Average scorers:",
    bullets: [
      "Set realistic goals for accomplishment ",
      " Balance finesse with confrontation in relationships",
      " Take charge of projects that allow for use of current skills",
      " Be willing to speak in public",
      " Accept challenges consistent with their skill level"
    ],
    paragraphs: [
      "In Higher scorers, the implications are more pronounced. They are leaderlike and take initiative but they may be restless, more competitive and intimidating. ",
      "Low scorers are good team players and not competitive but appear less energetic and avoid difficult challenges. "
    ]
  }
                ]
                    },
                    {
                        name: "Adjusment",
                        rating: 0.75,
                        icon: "fa-mountain",
                        behavioralImplications: [
                            "Maintains effort despite obstacles or setbacks",
                            "Demonstrates resilience when facing challenges",
                            "Consistently follows through on commitments",
                            "Shows determination in pursuing long-term goals",
                            "Remains focused during difficult periods"
                        ],
                        leadershipImplications: [
                            "Inspires team members through demonstrated resilience",
                            "Maintains team morale during challenging projects",
                            "Ensures important initiatives don't lose momentum",
                            "Models commitment to organizational goals despite obstacles",
                            "Creates an environment where perseverance is valued"
                        ],
                        potentialChallenges: [
                            "May occasionally persist with approaches that aren't working",
                            "Could be reluctant to pivot when circumstances change",
                            "Might need to balance persistence with flexibility",
                            "Could experience burnout if not managing energy effectively",
                            "May need to recognize when to seek alternative approaches"
                        ],
                         ideatils: [
    {
    title: "Adjusment",
    description: "Average scorers tend to:",
    bullets: [
      "Be calm in stressful situations",
      " Listen to criticism without taking it personally ",
      " Understand their own strengths and shortcomings",
      "  Learn from their mistakes",
      "  Be patient with their staff"
    ],
    paragraphs: [
      "In High scorers these implications are more pronounced. They are calm and handle pressure well, but they may overlook their mistakes and be harder to coach",
      "Low scorers have a sense of AI SUMMARY + SCORE urgency and are open to feedback but may worry about not performing well or take criticism personally"
    ]
  }
                ]
                    },
                    {
                        name: "Bold",
                        rating: 0.9,
                        icon: "fa-briefcase",
                        behavioralImplications: [
                            "Consistently delivers high-quality work",
                            "Demonstrates strong commitment to meeting deadlines",
                            "Willingly puts in extra effort when needed",
                            "Shows attention to detail in all tasks",
                            "Maintains high standards even for routine work"
                        ],
                        leadershipImplications: [
                            "Sets clear expectations for quality and effort",
                            "Creates a culture of excellence and accountability",
                            "Leads by example through visible dedication",
                            "Recognizes and rewards strong work ethic in others",
                            "Builds team reputation for reliability and quality"
                        ],
                        potentialChallenges: [
                            "May create unsustainable expectations for self or others",
                            "Could experience difficulty delegating tasks",
                            "Might need to balance quality with pragmatism",
                            "Could risk burnout without proper boundaries",
                            "May judge others by own high standards"
                        ],
                         ideatils: [
    {
    title: "Bold",
    description: "Generally confident in one’s abilities and realistic view of competencies. But under stress, there is a tendency to be fearless, have inflated view of oneself, unwilling to admit mistakes ",
    bullets: [],
    paragraphs: []
  }
                ]
                    },
                    {
                        name: "Excitable",
                        rating: 0.7,
                        icon: "fa-battery-three-quarters",
                        behavioralImplications: [
                            "Maintains consistent energy levels throughout the day",
                            "Effectively prioritizes tasks based on energy requirements",
                            "Recognizes personal energy patterns and works with them",
                            "Takes appropriate breaks to maintain productivity",
                            "Balances periods of intense focus with recovery time"
                        ],
                        leadershipImplications: [
                            "Models sustainable work practices for team members",
                            "Creates an environment that respects energy management",
                            "Recognizes different energy patterns among team members",
                            "Schedules demanding activities during peak energy periods",
                            "Promotes work-life balance while maintaining productivity"
                        ],
                        potentialChallenges: [
                            "May occasionally push beyond sustainable energy levels",
                            "Could underestimate recovery time needed after intense periods",
                            "Might need to improve recognition of early burnout signs",
                            "Could benefit from more structured energy management practices",
                            "May need to communicate energy limitations more effectively"
                        ],
                         ideatils: [
    {
    title: "Excitable",
    description: "Generally working with passion and enthusiasm. But under stress there is the potential for being easily frustrated, irritable and inclined to give up on projects and people. ",
    bullets: [],
    paragraphs: []
  }
                ]
                    },
                    {
                        name: "Caution",
                        rating: 0.85,
                        icon: "fa-fire",
                        behavioralImplications: [
                            "Demonstrates visible passion for work and projects",
                            "Brings positive energy to team interactions",
                            "Shows genuine interest in tasks and outcomes",
                            "Maintains optimism even during challenging periods",
                            "Communicates with energy that engages others"
                        ],
                        leadershipImplications: [
                            "Inspires and motivates team members through enthusiasm",
                            "Creates an energizing atmosphere that boosts morale",
                            "Helps team connect emotionally with goals and vision",
                            "Counterbalances negativity in the work environment",
                            "Builds momentum for new initiatives through positive energy"
                        ],
                        potentialChallenges: [
                            "May need to modulate enthusiasm in certain contexts",
                            "Could be perceived as lacking seriousness by some",
                            "Might experience frustration when others don't share enthusiasm",
                            "Could benefit from balancing enthusiasm with critical thinking",
                            "May need to develop strategies for maintaining enthusiasm long-term"
                        ],
                         ideatils: [
    {
    title: "Caution",
    description: "Generally confident and mature. But under stress there is a tendency for some resistance to change, reluctance to take risks or chances due to unusual fear of criticism or failure ",
    bullets: [],
    paragraphs: []
  }
                ]
                    }
                ],
                ideatils: [
    {
    title: "Energy & Drive",
    description: "Energy and Drive is assessed by a combination of a number of factors:",
    bullets: [
      "Personality traits: Ambition and Adjustment",
      "Interpersonal behaviors: Bold, Excitable, Caution"
    ],
    paragraphs: [
      "The results in this report are based on leadership AI SUMMARY + SCORE + RISK research conducted for over 20 years with working adults and leaders.",
      "Next, there is no such thing as a 'good' score. There are positive and negative implications for both high and low scores, although certain scores are more important for some competencies than others."
    ]
  }
                ]
            },
            {
                name: "Social Acumen",
                rating: 0.7,
                importance: "medium",
                risk: "low",
                details: "Shows strong ability to navigate social situations and build relationships. Demonstrates good awareness of social dynamics and adapts communication style appropriately. Effectively reads non-verbal cues and responds with empathy and understanding.",
                category: "personal",
                icon: "fa-users",
                subAttributes: [
                    {
                        name: "Sociability",
                        rating: 0.75,
                        icon: "fa-heart",
                        behavioralImplications: [
                            "Demonstrates genuine understanding of others' perspectives",
                            "Listens attentively to concerns and feelings",
                            "Recognizes emotional states from verbal and non-verbal cues",
                            "Responds appropriately to others' emotional needs",
                            "Considers impact on others when making decisions"
                        ],
                        leadershipImplications: [
                            "Creates psychological safety within the team",
                            "Builds trust through demonstrating understanding",
                            "Effectively manages interpersonal conflicts",
                            "Anticipates how changes will affect team members",
                            "Develops stronger connections with direct reports"
                        ],
                        potentialChallenges: [
                            "May sometimes prioritize emotions over objective factors",
                            "Could take on others' emotional burdens",
                            "Might find it difficult to deliver tough messages",
                            "Could benefit from setting clearer emotional boundaries",
                            "May need to balance empathy with decisiveness"
                        ],
                         ideatils: [
    {
    title: "Sociability",
    description: "Average scorers tend to:",
    bullets: [
      "Be approachable, not distant",
      "  Comfortable working alone or with others",
      "Engage in formal rather than casual meetings",
      "   Provide staff relevant feedback",
      "  Balance listening and talking"
    ],
    paragraphs: [
      "In High scorers these implications are more pronounced. They are approachable and energetic but they dislike working alone, may not listen well and get distracted",
      "Low scorers are independent and business like, but they don’t network well or give enough feedback "
    ]
  }
                ]
                    },
                    {
                        name: "Interpersonal Sensitivity",
                        rating: 0.8,
                        icon: "fa-eye",
                        behavioralImplications: [
                            "Accurately reads group dynamics in meetings",
                            "Recognizes unspoken tensions or alliances",
                            "Adapts behavior to different social contexts",
                            "Notices changes in team atmosphere or morale",
                            "Understands organizational politics and influence networks"
                        ],
                        leadershipImplications: [
                            "Navigates complex stakeholder relationships effectively",
                            "Identifies and addresses team dynamics issues early",
                            "Builds coalitions to support important initiatives",
                            "Recognizes informal leadership and influence patterns",
                            "Adapts leadership approach to organizational culture"
                        ],
                        potentialChallenges: [
                            "May sometimes overthink social dynamics",
                            "Could become overly concerned with others' perceptions",
                            "Might find it challenging to act against social currents",
                            "Could benefit from more direct approaches in some situations",
                            "May need to balance awareness with authentic self-expression"
                        ],
                        ideatils:[
  {
    title: "Interpersonal Sensitivity",
    description: "Average scorers tend to:",
    bullets: [
      "Be easygoing and tolerant of others",
      "Consider others’ opinions seriously",
      "Deliver what they promise",
      "Provide staff with structure and consideration",
      "Confront problems promptly"
    ],
    paragraphs: [
      "In High scorers these implications are more pronounced. They are pleasant, team players but they are conflict averse and promise more than they can deliver.",
      "Low scorers are task-oriented and take unpopular positions, but tend to be critical, tough and argumentative."
    ]
  }
],
                    },
                    {
                        name: "Colorful",
                        rating: 0.65,
                        icon: "fa-comments",
                        behavioralImplications: [
                            "Adapts communication style to different audiences",
                            "Adjusts level of detail based on recipient needs",
                            "Shifts between formal and informal communication appropriately",
                            "Uses different channels effectively for different messages",
                            "Modifies approach when communication isn't effective"
                        ],
                        leadershipImplications: [
                            "Connects effectively with team members of different styles",
                            "Translates complex concepts for various stakeholders",
                            "Builds bridges between different functional areas",
                            "Adapts messaging to address diverse concerns",
                            "Creates inclusive communication environments"
                        ],
                        potentialChallenges: [
                            "May sometimes struggle to find the right approach quickly",
                            "Could benefit from expanding range of communication styles",
                            "Might need to develop greater comfort with certain channels",
                            "Could improve adaptation to very different communication preferences",
                            "May need to practice difficult communication scenarios more"
                        ],
                        ideatils:[
  {
    title: "Colorful",
    description: "Generally unpretentious and self-restrained. But under stress there is a tendency to be expressive and attention seeking with a potential to be easily bored and come across as disorganized.",
    bullets: null,
    paragraphs: null
  }
],
                    },
                    {
                        name: "Leisurely",
                        rating: 0.7,
                        icon: "fa-handshake",
                        behavioralImplications: [
                            "Proactively initiates connections with others",
                            "Remembers personal details and follows up appropriately",
                            "Finds common ground with diverse individuals",
                            "Maintains relationships through regular interaction",
                            "Demonstrates genuine interest in others"
                        ],
                        leadershipImplications: [
                            "Develops strong networks across the organization",
                            "Creates team cohesion through relationship focus",
                            "Builds alliances that support strategic objectives",
                            "Establishes trust with key stakeholders",
                            "Accesses diverse perspectives through broad relationships"
                        ],
                        potentialChallenges: [
                            "May sometimes prioritize relationships over tasks",
                            "Could find it difficult to maintain boundaries",
                            "Might invest too much in certain relationships",
                            "Could benefit from more strategic relationship building",
                            "May need to balance depth and breadth in network"
                        ],
                        ideatils:[
  {
    title: "Leisurely",
    description: "Generally friendly, cheerful, cooperative and open to feedback. But under stress, there is a tendency to challenge the competency of top management, follow one’s own agenda and quietly resist those of others.",
    bullets: null,
    paragraphs: null
  }
]
                    },
                    {
                        name: "Reserved",
                        rating: 0.6,
                        icon: "fa-balance-scale",
                        behavioralImplications: [
                            "Addresses conflicts directly rather than avoiding them",
                            "Maintains composure during difficult conversations",
                            "Separates people from problems in conflicts",
                            "Looks for mutually beneficial resolutions",
                            "Recognizes and addresses underlying issues"
                        ],
                        leadershipImplications: [
                            "Creates environment where productive conflict is valued",
                            "Mediates effectively between team members",
                            "Prevents escalation of minor disagreements",
                            "Models constructive approaches to disagreement",
                            "Builds team resilience through conflict resolution"
                        ],
                        potentialChallenges: [
                            "May sometimes avoid necessary confrontation",
                            "Could focus too much on harmony at expense of clarity",
                            "Might take too long to address emerging conflicts",
                            "Could benefit from more direct approaches in some situations",
                            "May need to develop comfort with emotional intensity"
                        ],
                        ideatils: [
  {
    title: "Reserved",
    description: "Generally outgoing, approachable and concerned about others. But under stress, there is a tendency to keep to oneself, avoiding meeting new people and being indifferent to the moods and feelings of others.",
    bullets: null,
    paragraphs: null
  }
],
                    },
                    {
                        name: "Skepitical",
                        rating: 0.6,
                        icon: "fa-balance-scale",
                        behavioralImplications: [
                            "Addresses conflicts directly rather than avoiding them",
                            "Maintains composure during difficult conversations",
                            "Separates people from problems in conflicts",
                            "Looks for mutually beneficial resolutions",
                            "Recognizes and addresses underlying issues"
                        ],
                        leadershipImplications: [
                            "Creates environment where productive conflict is valued",
                            "Mediates effectively between team members",
                            "Prevents escalation of minor disagreements",
                            "Models constructive approaches to disagreement",
                            "Builds team resilience through conflict resolution"
                        ],
                        potentialChallenges: [
                            "May sometimes avoid necessary confrontation",
                            "Could focus too much on harmony at expense of clarity",
                            "Might take too long to address emerging conflicts",
                            "Could benefit from more direct approaches in some situations",
                            "May need to develop comfort with emotional intensity"
                        ],
                        ideatils: [
                            {
                              title: "Skeptical",
                              description: "Generally insightful about people and optimistic. But under stress, there is a tendency for mistrust of people and institutions leading to negativity and disappointment.",
                              bullets: null,
                              paragraphs: null
                            }
                          ]
                    }
                ],
                ideatils: [
  {
    title: "Social Acumen",
    description: "Social Acumen is assessed by a combination of a number of factors:",
    bullets: [
      "Personality Traits: Sociability and Interpersonal Sensitivity",
      "Interpersonal Behaviors: Colorful, Leisurely, Reserved and Skeptical"
    ],
    paragraphs: [
      "The results in this report are based on leadership research conducted for over 20 years with working adults and leaders.",
      "Next, there is no such thing as a “good” score. There are positive and negative implications for both high and low scores, although certain scores are more important for some competencies than others."
    ]
  }
],
            },
            {
                name: "Problem Solving",
                rating: 0.9,
                importance: "high",
                risk: "low",
                details: "Exceptional analytical skills with ability to break down complex problems into manageable components. Approaches challenges with creativity and resourcefulness. Consistently develops effective solutions that address root causes rather than symptoms.",
                category: "personal",
                icon: "fa-lightbulb",
                subAttributes: [
                    {
                        name: "Prudence",
                        rating: 0.95,
                        icon: "fa-chart-line",
                        behavioralImplications: [
                            "Breaks down complex problems into component parts",
                            "Identifies patterns and relationships in data",
                            "Evaluates information objectively and systematically",
                            "Distinguishes between correlation and causation",
                            "Prioritizes factors based on relevance and impact"
                        ],
                        leadershipImplications: [
                            "Makes decisions based on thorough analysis rather than intuition alone",
                            "Helps team understand complex situations clearly",
                            "Identifies root causes rather than symptoms",
                            "Evaluates options systematically before committing resources",
                            "Builds credibility through well-reasoned approaches"
                        ],
                        potentialChallenges: [
                            "May sometimes over-analyze situations",
                            "Could delay decisions while gathering more data",
                            "Might struggle with ambiguous problems lacking clear data",
                            "Could appear detached when focused on analysis",
                            "May need to balance analysis with intuition"
                        ],
                        ideatils: [
  {
    title: "Prudence",
    description: "Average scorers tend to:",
    bullets: [
      "Be orderly and dependable",
      "Be able to adjust to change",
      "Strike a good balance between speed and accuracy",
      "Plan and maintain schedules appropriately",
      "Delegate responsibly"
    ],
    paragraphs: [
      "In High scorers, these tendencies are more pronounced. They are organized and dependable but they are inflexible about rules, reluctant to change and tend to micromanage.",
      "Low scorers tend to be flexible and open minded but may be impatient with details, easily bored and poor planners."
    ]
  }
],
                    },
                    {
                        name: "Inquisitive",
                        rating: 0.85,
                        icon: "fa-palette",
                        behavioralImplications: [
                            "Generates multiple approaches to problems",
                            "Makes connections between seemingly unrelated concepts",
                            "Questions assumptions and conventional approaches",
                            "Applies ideas from different domains to current challenges",
                            "Visualizes possibilities beyond current constraints"
                        ],
                        leadershipImplications: [
                            "Encourages innovative thinking in team members",
                            "Helps team break out of established patterns",
                            "Identifies opportunities others might miss",
                            "Creates environment where new ideas are welcomed",
                            "Balances creative exploration with practical implementation"
                        ],
                        potentialChallenges: [
                            "May sometimes generate ideas that are difficult to implement",
                            "Could become attached to novel solutions over practical ones",
                            "Might need to improve communication of unconventional ideas",
                            "Could benefit from more structured evaluation of creative options",
                            "May need to balance divergent thinking with convergent thinking"
                        ],
                        ideatils: [
  {
    title: "Inquisitive",
    description: "Average scorers tend to:",
    bullets: [
      "Flexible problem solvers",
      "Have interests outside business",
      "Willing to speculate about business scenarios",
      "Display moderate degree of imagination",
      "Understand practical as well as technological solutions"
    ],
    paragraphs: [
      "In High scorers, these tendencies are more pronounced. They think strategically but they may have impractical ideas, over analyze and implement poorly.",
      "Low scorers tend to be pragmatic with focused interests but may lack imagination."
    ]
  }
],
                    },
                    {
                        name: "Learning Approach",
                        rating: 0.9,
                        icon: "fa-check-circle",
                        behavioralImplications: [
                            "Makes timely decisions with available information",
                            "Balances thoroughness with efficiency",
                            "Considers both short and long-term implications",
                            "Takes calculated risks when appropriate",
                            "Commits to decisions once made"
                        ],
                        leadershipImplications: [
                            "Provides clear direction without unnecessary delay",
                            "Models decisive action while maintaining thoughtfulness",
                            "Creates appropriate decision-making processes for different situations",
                            "Involves others in decisions at the right level",
                            "Takes responsibility for outcomes of decisions"
                        ],
                        potentialChallenges: [
                            "May sometimes make decisions too quickly in complex situations",
                            "Could benefit from more structured decision frameworks",
                            "Might need to more explicitly communicate decision rationale",
                            "Could improve documentation of decision factors",
                            "May need to develop comfort with decisions under high uncertainty"
                        ],
                        ideatils: [
  {
    title: "Learning Approach",
    description: "Average scorers tend to:",
    bullets: [
      "Take advantage of learning opportunities",
      "Enjoy learning new technology",
      "Encourage staff to stay current on technology issues",
      "Respond positively to requests for staff training",
      "Support staff development"
    ],
    paragraphs: [
      "In High scorers, these tendencies are more pronounced. They value training and are up-to-date but have an opinion on everything and less tolerant of others.",
      "Low scorers tend to prefer hands-on skills development to formal education and may have narrow interests."
    ]
  }
],
                    },
                    {
                        name: "Diligent",
                        rating: 0.85,
                        icon: "fa-tasks",
                        behavioralImplications: [
                            "Translates solutions into actionable steps",
                            "Anticipates implementation challenges",
                            "Considers practical constraints when developing solutions",
                            "Follows through to ensure solutions are working",
                            "Adjusts approaches based on implementation feedback"
                        ],
                        leadershipImplications: [
                            "Bridges gap between strategy and execution",
                            "Ensures team focuses on practical application of ideas",
                            "Creates accountability for implementation outcomes",
                            "Removes obstacles to successful execution",
                            "Balances perfect solutions with practical implementation"
                        ],
                        potentialChallenges: [
                            "May sometimes focus too much on action before full analysis",
                            "Could underestimate complexity of implementation",
                            "Might become frustrated with theoretical discussions",
                            "Could benefit from more systematic implementation planning",
                            "May need to develop patience with necessary process steps"
                        ],
                        ideatils: [
  {
    title: "Diligent",
    description: "Generally flexible, works hard with high standards. But under stress, has the tendency of being overly meticulous, controlling and difficult to please.",
    bullets: null,
    paragraphs: null
  }
],
                    },
                    {
                        name: "Imaginative",
                        rating: 0.95,
                        icon: "fa-graduation-cap",
                        behavioralImplications: [
                            "Quickly absorbs and applies new information",
                            "Seeks out learning opportunities proactively",
                            "Applies lessons from past experiences to new situations",
                            "Experiments with new approaches and methods",
                            "Adapts thinking based on new evidence or feedback"
                        ],
                        leadershipImplications: [
                            "Creates learning culture within the team",
                            "Models continuous improvement mindset",
                            "Helps team adapt quickly to changing circumstances",
                            "Encourages experimentation and calculated risk-taking",
                            "Facilitates knowledge sharing across the organization"
                        ],
                        potentialChallenges: [
                            "May sometimes move too quickly to new approaches",
                            "Could become bored with necessary repetitive elements",
                            "Might undervalue established methods that still work",
                            "Could benefit from more systematic knowledge management",
                            "May need to help others keep pace with learning"
                        ],
                        ideatils: [
  {
    title: "Imaginative",
    description: "Generally sensible, acts and thinks in a creative way. But under stress, has the tendency to be viewed as unfocused or over confident and lacking in follow through.",
    bullets: null,
    paragraphs: null
  }
],
                    },
                    {
                        name: "Mischevious",
                        rating: 0.95,
                        icon: "fa-graduation-cap",
                        behavioralImplications: [
                            "Quickly absorbs and applies new information",
                            "Seeks out learning opportunities proactively",
                            "Applies lessons from past experiences to new situations",
                            "Experiments with new approaches and methods",
                            "Adapts thinking based on new evidence or feedback"
                        ],
                        leadershipImplications: [
                            "Creates learning culture within the team",
                            "Models continuous improvement mindset",
                            "Helps team adapt quickly to changing circumstances",
                            "Encourages experimentation and calculated risk-taking",
                            "Facilitates knowledge sharing across the organization"
                        ],
                        potentialChallenges: [
                            "May sometimes move too quickly to new approaches",
                            "Could become bored with necessary repetitive elements",
                            "Might undervalue established methods that still work",
                            "Could benefit from more systematic knowledge management",
                            "May need to help others keep pace with learning"
                        ],
                        ideatils: [
  {
    title: "Mischievous",
    description: "Generally charming, unassuming and self-disciplined. But under stress, there is a tendency for risk taking, pushing the limits or maintaining commitments.",
    bullets: null,
    paragraphs: null
  }
],
                    },
                    {
                        name: "Dutiful",
                        rating: 0.95,
                        icon: "fa-graduation-cap",
                        behavioralImplications: [
                            "Quickly absorbs and applies new information",
                            "Seeks out learning opportunities proactively",
                            "Applies lessons from past experiences to new situations",
                            "Experiments with new approaches and methods",
                            "Adapts thinking based on new evidence or feedback"
                        ],
                        leadershipImplications: [
                            "Creates learning culture within the team",
                            "Models continuous improvement mindset",
                            "Helps team adapt quickly to changing circumstances",
                            "Encourages experimentation and calculated risk-taking",
                            "Facilitates knowledge sharing across the organization"
                        ],
                        potentialChallenges: [
                            "May sometimes move too quickly to new approaches",
                            "Could become bored with necessary repetitive elements",
                            "Might undervalue established methods that still work",
                            "Could benefit from more systematic knowledge management",
                            "May need to help others keep pace with learning"
                        ],
                        ideatils: [
                               {
                                 title: "Dutiful",
                                 description: "Generally independent, trusting and challenging authority. But under stress, a tendency for being compliant, conforming and eager to please one’s superiors and a reluctance to speak up.",
                                 bullets: null,
                                 paragraphs: null
                               }
                             ]
                    }
                ],
                ideatils: [
  {
    title: "Problem Solving",
    description: "Problem Solving is assessed by a combination of a number of factors:",
    bullets: [
      "Personality traits: Inquisitive, Prudence and Learning Approach",
      "Interpersonal behaviors: Diligent, Mischievous and Dutiful"
    ],
    paragraphs: [
      "The results in this report are based on leadership research conducted for over 20 years with working adults and leaders.",
      "Next, there is no such thing as a “good” score. There are positive and negative implications for both high and low scores, although certain scores are more important for some competencies than others."
    ]
  }
]
            },

             {
                name: "Change Orientation",
                rating: 0.9,
                importance: "high",
                risk: "low",
                details: "Exceptional analytical skills with ability to break down complex problems into manageable components. Approaches challenges with creativity and resourcefulness. Consistently develops effective solutions that address root causes rather than symptoms.",
                category: "personal",
                icon: "fa-solid fa-repeat",
                subAttributes: [
                    {
                        name: "Flexibility",
                        rating: 0.95,
                        icon: "fa-chart-line",
                        behavioralImplications: [
                            "Breaks down complex problems into component parts",
                            "Identifies patterns and relationships in data",
                            "Evaluates information objectively and systematically",
                            "Distinguishes between correlation and causation",
                            "Prioritizes factors based on relevance and impact"
                        ],
                        leadershipImplications: [
                            "Makes decisions based on thorough analysis rather than intuition alone",
                            "Helps team understand complex situations clearly",
                            "Identifies root causes rather than symptoms",
                            "Evaluates options systematically before committing resources",
                            "Builds credibility through well-reasoned approaches"
                        ],
                        potentialChallenges: [
                            "May sometimes over-analyze situations",
                            "Could delay decisions while gathering more data",
                            "Might struggle with ambiguous problems lacking clear data",
                            "Could appear detached when focused on analysis",
                            "May need to balance analysis with intuition"
                        ],
                        ideatils: [
  {
    title: "Flexibility",
    description: "Flexibility involves regularly bringing fresh ideas to the conversation and proposing creative solutions.",
    bullets: null,
    paragraphs: [
      "High scorers in this area often contribute ideas that add significant value to their team and environment. Colleagues likely see them as someone who frequently sparks innovation and drives positive change."
    ]
  }
],
                    },
                    {
                        name: "Speed",
                        rating: 0.85,
                        icon: "fa-palette",
                        behavioralImplications: [
                            "Generates multiple approaches to problems",
                            "Makes connections between seemingly unrelated concepts",
                            "Questions assumptions and conventional approaches",
                            "Applies ideas from different domains to current challenges",
                            "Visualizes possibilities beyond current constraints"
                        ],
                        leadershipImplications: [
                            "Encourages innovative thinking in team members",
                            "Helps team break out of established patterns",
                            "Identifies opportunities others might miss",
                            "Creates environment where new ideas are welcomed",
                            "Balances creative exploration with practical implementation"
                        ],
                        potentialChallenges: [
                            "May sometimes generate ideas that are difficult to implement",
                            "Could become attached to novel solutions over practical ones",
                            "Might need to improve communication of unconventional ideas",
                            "Could benefit from more structured evaluation of creative options",
                            "May need to balance divergent thinking with convergent thinking"
                        ],
                        ideatils: [
  {
    title: "Speed",
    description: "Speed involves trying new behaviors quickly and learning from mistakes without dwelling on failure, moving swiftly to the next attempt or experiment.",
    bullets: null,
    paragraphs: [
      "High scorers in this dimension suggest they quickly assimilate new concepts and apply them, thereby responding decisively to emerging challenges."
    ]
  }
],
                    },
                    {
                        name: "Reflecting",
                        rating: 0.9,
                        icon: "fa-check-circle",
                        behavioralImplications: [
                            "Makes timely decisions with available information",
                            "Balances thoroughness with efficiency",
                            "Considers both short and long-term implications",
                            "Takes calculated risks when appropriate",
                            "Commits to decisions once made"
                        ],
                        leadershipImplications: [
                            "Provides clear direction without unnecessary delay",
                            "Models decisive action while maintaining thoughtfulness",
                            "Creates appropriate decision-making processes for different situations",
                            "Involves others in decisions at the right level",
                            "Takes responsibility for outcomes of decisions"
                        ],
                        potentialChallenges: [
                            "May sometimes make decisions too quickly in complex situations",
                            "Could benefit from more structured decision frameworks",
                            "Might need to more explicitly communicate decision rationale",
                            "Could improve documentation of decision factors",
                            "May need to develop comfort with decisions under high uncertainty"
                        ],
                        ideatils: [
                            {
                              title: "Reflecting",
                              description: "Reflection is about pausing to evaluate your performance, strategies, and decisions to grow and become more effective.",
                              bullets: null,
                              paragraphs: [
                                "Reflection is an indispensable part of the learning journey, turning experiences into actionable insights that fuel personal and professional growth. High scorers effectively engage peers to discover hidden insights."
                              ]
                            }
                          ]
                    }
                ],
                ideatils: [
  {
    title: "Change Orientation",
    description: "Change Orientation is assessed by a combination of a number of factors:",
    bullets: [
      "Flexibility",
      "Speed",
      "Reflecting"
    ],
    paragraphs: [
      "The results in this report are based on leadership research conducted for over 20 years with working adults and leaders."
    ]
  }
],
            },
            
             {
                name: "Risk Taking",
                rating: 0.9,
                importance: "high",
                risk: "low",
                details: "Exceptional analytical skills with ability to break down complex problems into manageable components. Approaches challenges with creativity and resourcefulness. Consistently develops effective solutions that address root causes rather than symptoms.",
                category: "personal",
                icon: "fa-solid fa-exclamation-triangle",
                subAttributes: [
                    {
                        name: "Experimenting",
                        rating: 0.95,
                        icon: "fa-chart-line",
                        behavioralImplications: [
                            "Breaks down complex problems into component parts",
                            "Identifies patterns and relationships in data",
                            "Evaluates information objectively and systematically",
                            "Distinguishes between correlation and causation",
                            "Prioritizes factors based on relevance and impact"
                        ],
                        leadershipImplications: [
                            "Makes decisions based on thorough analysis rather than intuition alone",
                            "Helps team understand complex situations clearly",
                            "Identifies root causes rather than symptoms",
                            "Evaluates options systematically before committing resources",
                            "Builds credibility through well-reasoned approaches"
                        ],
                        potentialChallenges: [
                            "May sometimes over-analyze situations",
                            "Could delay decisions while gathering more data",
                            "Might struggle with ambiguous problems lacking clear data",
                            "Could appear detached when focused on analysis",
                            "May need to balance analysis with intuition"
                        ],
                        ideatils: [
  {
    title: "Experimenting",
    description: "High scorers on Experimenting frequently explore a wide range of new strategies to address situations, while also drawing on their past experiences.",
    bullets: null,
    paragraphs: null
  }
],
                    },
                    {
                        name: "Performance Risk Taking",
                        rating: 0.85,
                        icon: "fa-palette",
                        behavioralImplications: [
                            "Generates multiple approaches to problems",
                            "Makes connections between seemingly unrelated concepts",
                            "Questions assumptions and conventional approaches",
                            "Applies ideas from different domains to current challenges",
                            "Visualizes possibilities beyond current constraints"
                        ],
                        leadershipImplications: [
                            "Encourages innovative thinking in team members",
                            "Helps team break out of established patterns",
                            "Identifies opportunities others might miss",
                            "Creates environment where new ideas are welcomed",
                            "Balances creative exploration with practical implementation"
                        ],
                        potentialChallenges: [
                            "May sometimes generate ideas that are difficult to implement",
                            "Could become attached to novel solutions over practical ones",
                            "Might need to improve communication of unconventional ideas",
                            "Could benefit from more structured evaluation of creative options",
                            "May need to balance divergent thinking with convergent thinking"
                        ],
                        ideatils: [
  {
    title: "Performance Risk Taking",
    description: "Taking performance risks means stepping out of your comfort zone and taking actions to facilitate learning and growth.",
    bullets: null,
    paragraphs: [
      "High Scorers in this area consistently seek out opportunities that challenge them beyond their current limits. This proactive approach builds confidence in their ability to excel in new and complex challenges, setting a strong foundation for continued personal and professional growth."
    ]
  }
],
                    },
                    {
                        name: "Interpersonal Risk Taking",
                        rating: 0.9,
                        icon: "fa-check-circle",
                        behavioralImplications: [
                            "Makes timely decisions with available information",
                            "Balances thoroughness with efficiency",
                            "Considers both short and long-term implications",
                            "Takes calculated risks when appropriate",
                            "Commits to decisions once made"
                        ],
                        leadershipImplications: [
                            "Provides clear direction without unnecessary delay",
                            "Models decisive action while maintaining thoughtfulness",
                            "Creates appropriate decision-making processes for different situations",
                            "Involves others in decisions at the right level",
                            "Takes responsibility for outcomes of decisions"
                        ],
                        potentialChallenges: [
                            "May sometimes make decisions too quickly in complex situations",
                            "Could benefit from more structured decision frameworks",
                            "Might need to more explicitly communicate decision rationale",
                            "Could improve documentation of decision factors",
                            "May need to develop comfort with decisions under high uncertainty"
                        ],
                        ideatils: [
                        {
                          title: "Interpersonal Risk Taking",
                          description: "Interpersonal risk-taking is about addressing differences with others, in ways that promote growth and positive change.",
                          bullets: null,
                          paragraphs: [
                            "High Scorers challenge deeply held assumptions to drive improvement."
                          ]
                        }
                      ]
                    }
                ],
                ideatils: [
  {
    title: "Risk Taking",
    description: "Risk Taking is assessed by a combination of a number of factors:",
    bullets: [
      "Experimenting",
      "Performance Risk Taking",
      "Interpersonal Risk Taking"
    ],
    paragraphs: [
      "The results in this report are based on leadership research conducted for over 20 years with working adults and leaders."
    ]
  }
],
            },
            {
                name: "Collaborative LEARNING",
                rating: 0.9,
                importance: "high",
                risk: "low",
                details: "Exceptional analytical skills with ability to break down complex problems into manageable components. Approaches challenges with creativity and resourcefulness. Consistently develops effective solutions that address root causes rather than symptoms.",
                category: "personal",
                icon: "fa-solid fa-people-arrows",
                subAttributes: [
                    {
                        name: "Collaborating",
                        rating: 0.95,
                        icon: "fa-chart-line",
                        behavioralImplications: [
                            "Breaks down complex problems into component parts",
                            "Identifies patterns and relationships in data",
                            "Evaluates information objectively and systematically",
                            "Distinguishes between correlation and causation",
                            "Prioritizes factors based on relevance and impact"
                        ],
                        leadershipImplications: [
                            "Makes decisions based on thorough analysis rather than intuition alone",
                            "Helps team understand complex situations clearly",
                            "Identifies root causes rather than symptoms",
                            "Evaluates options systematically before committing resources",
                            "Builds credibility through well-reasoned approaches"
                        ],
                        potentialChallenges: [
                            "May sometimes over-analyze situations",
                            "Could delay decisions while gathering more data",
                            "Might struggle with ambiguous problems lacking clear data",
                            "Could appear detached when focused on analysis",
                            "May need to balance analysis with intuition"
                        ],
                        ideatils: [
  {
    title: "Collaborating",
    description: "Collaborating in learning agility means finding ways to work with others and/or generating unique opportunities for learning.",
    bullets: null,
    paragraphs: [
      "High scorers in this area actively seek out cross-functional partners, leverage their strengths and foster knowledge sharing."
    ]
  }
],
                    },
                    {
                        name: "Feedback Seeking",
                        rating: 0.85,
                        icon: "fa-palette",
                        behavioralImplications: [
                            "Generates multiple approaches to problems",
                            "Makes connections between seemingly unrelated concepts",
                            "Questions assumptions and conventional approaches",
                            "Applies ideas from different domains to current challenges",
                            "Visualizes possibilities beyond current constraints"
                        ],
                        leadershipImplications: [
                            "Encourages innovative thinking in team members",
                            "Helps team break out of established patterns",
                            "Identifies opportunities others might miss",
                            "Creates environment where new ideas are welcomed",
                            "Balances creative exploration with practical implementation"
                        ],
                        potentialChallenges: [
                            "May sometimes generate ideas that are difficult to implement",
                            "Could become attached to novel solutions over practical ones",
                            "Might need to improve communication of unconventional ideas",
                            "Could benefit from more structured evaluation of creative options",
                            "May need to balance divergent thinking with convergent thinking"
                        ],
                        ideatils: [
  {
    title: "Feedback Seeking",
    description: "Asking for feedback is a powerful driver of professional growth, offering insights into your performance and helping you identify opportunities to refine your skills.",
    bullets: null,
    paragraphs: [
      "High scorers consistently seek feedback, demonstrate a strong commitment to continuous learning, self-improvement, and personal excellence."
    ]
  }
],
                    },
                    {
                        name: "Infornation Gathering",
                        rating: 0.9,
                        icon: "fa-check-circle",
                        behavioralImplications: [
                            "Makes timely decisions with available information",
                            "Balances thoroughness with efficiency",
                            "Considers both short and long-term implications",
                            "Takes calculated risks when appropriate",
                            "Commits to decisions once made"
                        ],
                        leadershipImplications: [
                            "Provides clear direction without unnecessary delay",
                            "Models decisive action while maintaining thoughtfulness",
                            "Creates appropriate decision-making processes for different situations",
                            "Involves others in decisions at the right level",
                            "Takes responsibility for outcomes of decisions"
                        ],
                        potentialChallenges: [
                            "May sometimes make decisions too quickly in complex situations",
                            "Could benefit from more structured decision frameworks",
                            "Might need to more explicitly communicate decision rationale",
                            "Could improve documentation of decision factors",
                            "May need to develop comfort with decisions under high uncertainty"
                        ],
                        ideatils: [
                             {
                               title: "Information Gathering",
                               description: "Information gathering in learning agility is all about staying ahead of trends and developments in your area of expertise. In today's fast-changing world, your ability to consistently stay informed demonstrates a high level of dedication and effort.",
                               bullets: null,
                               paragraphs: [
                                 "High scorers regularly scan emerging research and integrate cutting edge insights into strategies and projects."
                               ]
                             }
                           ]
                    }
                ],
                ideatils: [
  {
    title: "Collaborative Learning",
    description: "Collaborative Learning is assessed by a combination of a number of factors:",
    bullets: [
      "Collaborating",
      "Information Gathering",
      "Feedback Seeking"
    ],
    paragraphs: [
      "The results in this report are based on leadership research conducted for over 20 years with working adults and leaders."
    ]
  }
]
            }
        ];

        // Work Competencies data with icons and sub-attributes
            const workCompetencies = [
                {
                    name: "Executing",
                    rating: 0.7,
                    importance: "high",
                    risk: "medium",
                    details: "Demonstrates strong ability to implement plans and deliver results. Organizes work effectively and maintains focus on priorities. Occasionally struggles with meeting aggressive deadlines but generally produces quality outcomes. Could improve consistency in follow-through on complex projects.",
                    category: "work",
                    icon: "fa-tasks",
                    subAttributesname: "Focus",
                    subicon: "fa-calendar-check",
                    behavioralImplications: [
                                "Creates structured plans with clear milestones",
                                "Allocates resources effectively to activities",
                                "Anticipates dependencies and potential bottlenecks",
                                "Establishes realistic timelines for deliverables",
                                "Maintains organized documentation and tracking systems"
                            ],
                            leadershipImplications: [
                                "Provides clear roadmaps that align team efforts",
                                "Ensures efficient use of team resources",
                                "Creates transparency around priorities and progress",
                                "Balances short-term needs with long-term objectives",
                                "Establishes effective project management practices"
                            ],
                            potentialChallenges: [
                                "May sometimes create overly detailed plans",
                                "Could struggle to adapt plans when circumstances change",
                                "Might need to improve communication of plans to stakeholders",
                                "Could benefit from more agile planning approaches",
                                "May need to balance planning with execution time"
                            ]
                    
                }
            ];
        const worksubAttributeInsights = {
  "Focus": {
    title: "Focus",
    description: "People exceptionally talented in the Focus theme can take a direction, follow through and make the corrections necessary to stay on track. They prioritize, then act."
  },
  "Achiever": {
    title: "Achiever",
    description: "People exceptionally talented in the Achiever theme work hard and possess a great deal of stamina. They take immense satisfaction in being busy and productive."
  },
  "Responsibility": {
    title: "Responsibility",
    description: "People exceptionally talented in the Responsibility theme take psychological ownership of what they say they will do. They are committed to stable values such as honesty and loyalty."
  },
  "Belief": {
    title: "Belief",
    description: "People exceptionally talented in the Belief theme have certain core values that are unchanging. Out of these values emerges a defined purpose for their lives."
  },
  "Discipline": {
    title: "Discipline",
    description: "People exceptionally talented in the Discipline theme enjoy routine and structure. Their world is best described by the order they create."
  },
  "Arranger": {
    title: "Arranger",
    description: "People exceptionally talented in the Arranger theme can organize, but they also have a flexibility that complements this ability. They like to determine how all of the pieces and resources can be arranged for maximum productivity."
  },
  "Deliberative": {
    title: "Deliberative",
    description: "People exceptionally talented in the Deliberative theme are best described by the serious care they take in making decisions or choices. They anticipate obstacles."
  },
  "Consistency": {
    title: "Consistency",
    description: "People exceptionally talented in the Consistency theme are keenly aware of the need to treat people the same. They crave stable routines and clear rules and procedures that everyone can follow."
  },
  "Restorative": {
    title: "Restorative",
    description: "People exceptionally talented in the Restorative theme are adept at dealing with problems. They are good at figuring out what is wrong and resolving it."
  },
  "Significance": {
    title: "Significance",
    description: "People exceptionally talented in the Significance theme want to make a big impact. They are independent and prioritize projects based on how much influence they will have on their organization or people around them."
  },
  "Maximizer": {
    title: "Maximizer",
    description: "People exceptionally talented in the Maximizer theme focus on strengths as a way to stimulate personal and group excellence. They seek to transform something strong into something superb."
  },
  "Competition": {
    title: "Competition",
    description: "People exceptionally talented in the Competition theme measure their progress against the performance of others. They strive to win first place and revel in contests."
  },
  "Activator": {
    title: "Activator",
    description: "People exceptionally talented in the Activator theme can make things happen by turning thoughts into action. They want to do things now, rather than simply talk about them."
  },
  "Self-Assurance": {
    title: "Self-Assurance",
    description: "People exceptionally talented in the Self-Assurance theme feel confident in their ability to take risks and manage their own lives. They have an inner compass that gives them certainty in their decisions."
  },
  "Communication": {
    title: "Communication",
    description: "People exceptionally talented in the Communication theme generally find it easy to put their thoughts into words. They are good conversationalists and presenters."
  },
  "Woo": {
    title: "Woo",
    description: "People exceptionally talented in the Woo theme love the challenge of meeting new people and winning them over. They derive satisfaction from breaking the ice and making a connection with someone."
  },
  "Command": {
    title: "Command",
    description: "People exceptionally talented in the Command theme have presence. They can take control of a situation and make decisions."
  },
  "Individualization": {
    title: "Individualization",
    description: "People exceptionally talented in the Individualization theme are intrigued with the unique qualities of each person. They have a gift for figuring out how different people can work together productively."
  },
  "Positivity": {
    title: "Positivity",
    description: "People exceptionally talented in the Positivity theme have contagious enthusiasm. They are upbeat and can get others excited about what they are going to do."
  },
  "Developer": {
    title: "Developer",
    description: "People exceptionally talented in the Developer theme recognize and cultivate the potential in others. They spot the signs of each small improvement and derive satisfaction from evidence of progress."
  },
  "Relator": {
    title: "Relator",
    description: "People exceptionally talented in the Relator theme enjoy close relationships with others. They find deep satisfaction in working hard with friends to achieve a goal."
  },
  "Connectedness": {
    title: "Connectedness",
    description: "People exceptionally talented in the Connectedness theme have faith in the links among all things. They believe there are few coincidences and that almost every event has meaning."
  },
  "Empathy": {
    title: "Empathy",
    description: "People exceptionally talented in the Empathy theme can sense other people’s feelings by imagining themselves in others’ lives or situations."
  },
  "Harmony": {
    title: "Harmony",
    description: "People exceptionally talented in the Harmony theme look for consensus. They don’t enjoy conflict; rather, they seek areas of agreement."
  },
  "Adaptability": {
    title: "Adaptability",
    description: "People exceptionally talented in the Adaptability theme prefer to go with the flow. They tend to be 'now' people who take things as they come and discover the future one day at a time."
  },
  "Includer": {
    title: "Includer",
    description: "People exceptionally talented in the Includer theme accept others. They show awareness of those who feel left out and make an effort to include them."
  },
  "Futuristic": {
    title: "Futuristic",
    description: "People exceptionally talented in the Futuristic theme are inspired by the future and what could be. They energize others with their visions of the future."
  },
  "Strategic": {
    title: "Strategic",
    description: "People exceptionally talented in the Strategic theme create alternative ways to proceed. Faced with any given scenario, they can quickly spot the relevant patterns and issues."
  },
  "Learner": {
    title: "Learner",
    description: "People exceptionally talented in the Learner theme have a great desire to learn and want to continuously improve. The process of learning, rather than the outcome, excites them."
  },
  "Analytical": {
    title: "Analytical",
    description: "People exceptionally talented in the Analytical theme search for reasons and causes. They have the ability to think about all of the factors that might affect a situation."
  },
  "Intellection": {
    title: "Intellection",
    description: "People exceptionally talented in the Intellection theme are characterized by their intellectual activity. They are introspective and appreciate intellectual discussions."
  },
  "Ideation": {
    title: "Ideation",
    description: "People exceptionally talented in the Ideation theme are fascinated by ideas. They are able to find connections between seemingly disparate phenomena."
  },
  "Input": {
    title: "Input",
    description: "People exceptionally talented in the Input theme have a need to collect and archive. They may accumulate information, ideas, artifacts or even relationships."
  },
  "Context": {
    title: "Context",
    description: "People exceptionally talented in the Context theme enjoy thinking about the past. They understand the present by researching its history."
  }
};

        // Leadership Traits data with icons and sub-attributes
const leadershipTraits = [
            { name: "Vision & Direction", rating: 0.8, importance: "high", risk: "low", details: "Demonstrates strong ability to create and communicate a compelling vision. Effectively translates strategic objectives into actionable plans. Provides clear direction that inspires and aligns team efforts toward common goals. Consistently looks ahead to anticipate future needs and opportunities.", category: "leadership", icon: "fa-eye", behavioralImplications: [
        "Provides regular feedback and coaching to team members",
        "Identifies individual development needs proactively",
        "Encourages others to take on stretch assignments",
        "Shares knowledge and expertise freely",
        "Celebrates growth and learning milestones"
    ],
    leadershipImplications: [
        "Creates a culture of continuous development",
        "Builds a strong internal talent pipeline",
        "Improves team performance through skill-building",
        "Encourages learning from mistakes and reflection",
        "Mentors future leaders within the organization"
    ],
    potentialChallenges: [
        "May overextend by trying to develop everyone equally",
        "Could spend excessive time on development over delivery",
        "Might avoid tough feedback conversations",
        "Could struggle with prioritizing high-potential talent",
        "May need support to measure development impact"
    ] },
            { name: "Emotional Intelligence", rating: 0.7, importance: "high", risk: "medium", details: "Shows good self-awareness and ability to manage emotions effectively. Generally recognizes and responds appropriately to others' emotional states. Could further develop skills in navigating highly charged situations and providing emotional support during periods of significant change or stress.", category: "leadership", icon: "fa-heart",
                 behavioralImplications: [
        "Provides regular feedback and coaching to team members",
        "Identifies individual development needs proactively",
        "Encourages others to take on stretch assignments",
        "Shares knowledge and expertise freely",
        "Celebrates growth and learning milestones"
    ],
    leadershipImplications: [
        "Creates a culture of continuous development",
        "Builds a strong internal talent pipeline",
        "Improves team performance through skill-building",
        "Encourages learning from mistakes and reflection",
        "Mentors future leaders within the organization"
    ],
    potentialChallenges: [
        "May overextend by trying to develop everyone equally",
        "Could spend excessive time on development over delivery",
        "Might avoid tough feedback conversations",
        "Could struggle with prioritizing high-potential talent",
        "May need support to measure development impact"
    ]
             },
            { name: "Decision Making", rating: 0.6, importance: "high", risk: "medium", details: "Makes sound decisions based on available information. Balances analysis with intuition appropriately in most situations. Sometimes hesitates when facing complex decisions with incomplete information. Would benefit from developing greater confidence in making timely decisions under pressure.", category: "leadership", icon: "fa-balance-scale",
                 behavioralImplications: [
        "Provides regular feedback and coaching to team members",
        "Identifies individual development needs proactively",
        "Encourages others to take on stretch assignments",
        "Shares knowledge and expertise freely",
        "Celebrates growth and learning milestones"
    ],
    leadershipImplications: [
        "Creates a culture of continuous development",
        "Builds a strong internal talent pipeline",
        "Improves team performance through skill-building",
        "Encourages learning from mistakes and reflection",
        "Mentors future leaders within the organization"
    ],
    potentialChallenges: [
        "May overextend by trying to develop everyone equally",
        "Could spend excessive time on development over delivery",
        "Might avoid tough feedback conversations",
        "Could struggle with prioritizing high-potential talent",
        "May need support to measure development impact"
    ]
             },
            { name: "Developing Others", rating: 0.9, importance: "medium", risk: "low", details: "Exceptional commitment to developing team members' capabilities. Provides meaningful feedback, coaching, and growth opportunities. Creates an environment that encourages continuous learning and skill development. Effectively identifies and nurtures talent within the organization.", category: "leadership", icon: "fa-user-graduate",
                 behavioralImplications: [
        "Provides regular feedback and coaching to team members",
        "Identifies individual development needs proactively",
        "Encourages others to take on stretch assignments",
        "Shares knowledge and expertise freely",
        "Celebrates growth and learning milestones"
    ],
    leadershipImplications: [
        "Creates a culture of continuous development",
        "Builds a strong internal talent pipeline",
        "Improves team performance through skill-building",
        "Encourages learning from mistakes and reflection",
        "Mentors future leaders within the organization"
    ],
    potentialChallenges: [
        "May overextend by trying to develop everyone equally",
        "Could spend excessive time on development over delivery",
        "Might avoid tough feedback conversations",
        "Could struggle with prioritizing high-potential talent",
        "May need support to measure development impact"
    ]
             },
            { name: "Inclusive Leadership", rating: 0.7, importance: "medium", risk: "medium", details: "Shows good awareness of the value of diversity and makes efforts to include different perspectives. Creates reasonably inclusive team environments where most members feel valued. Could further develop skills in recognizing and addressing unconscious biases and ensuring equitable opportunities for all team members.", category: "leadership", icon: "fa-hands-helping",
                 behavioralImplications: [
        "Provides regular feedback and coaching to team members",
        "Identifies individual development needs proactively",
        "Encourages others to take on stretch assignments",
        "Shares knowledge and expertise freely",
        "Celebrates growth and learning milestones"
    ],
    leadershipImplications: [
        "Creates a culture of continuous development",
        "Builds a strong internal talent pipeline",
        "Improves team performance through skill-building",
        "Encourages learning from mistakes and reflection",
        "Mentors future leaders within the organization"
    ],
    potentialChallenges: [
        "May overextend by trying to develop everyone equally",
        "Could spend excessive time on development over delivery",
        "Might avoid tough feedback conversations",
        "Could struggle with prioritizing high-potential talent",
        "May need support to measure development impact"
    ]
             }
        ];

        // Combine all attributes into one array
        const allAttributes = [...personalAttributes, ...workCompetencies, ...leadershipTraits];
function renderworkAttributes(container, attributes) {
    const containerElement = document.getElementById(container);
    containerElement.innerHTML = '';

    if (attributes.length === 0) {
        containerElement.innerHTML = `
            <div class="p-8 text-center text-gray-500">
                <i class="fas fa-search mb-3 text-2xl"></i>
                <p>No attributes match your current filter criteria.</p>
            </div>
        `;
        return;
    }

    // Sort by rating and split
    const sortedAttributes = [...attributes].sort((a, b) => b.rating - a.rating);
    const top5 = sortedAttributes.slice(0, 5);
    const next5 = sortedAttributes.slice(5, 10);

    const allSections = [
        { title: 'Top 5 Competencies', list: top5 },
        { title: 'Next 5 Competencies', list: next5 }
    ];

    allSections.forEach(section => {
        // Heading
        const sectionHeader = document.createElement('h3');
        sectionHeader.className = 'text-xl font-bold text-gray-700 bg-[#f0f4f8] p-4';
        sectionHeader.textContent = section.title;
        containerElement.appendChild(sectionHeader);

        if (section.list.length === 0) {
            const emptyDiv = document.createElement('div');
            emptyDiv.className = 'text-gray-500 italic px-4 pb-4';
            emptyDiv.textContent = 'No attributes available in this section.';
            containerElement.appendChild(emptyDiv);
        } else {
            section.list.forEach(attr => {
                const ratingWidth = attr.rating * 85;

                let riskBadgeClass = "risk-badge-low";
                let riskCircleClass = "risk-low";
                if (attr.risk === "high") {
                    riskBadgeClass = "risk-badge-high";
                    riskCircleClass = "risk-high";
                } else if (attr.risk === "medium") {
                    riskBadgeClass = "risk-badge-medium";
                    riskCircleClass = "risk-medium";
                }

                const attributeElement = document.createElement('div');
                attributeElement.className = 'border-b border-gray-200 last:border-b-0';
                attributeElement.innerHTML = `
                    <div class="grid grid-cols-12 p-4 items-center hover:bg-gray-50 transition">
                        <div class="col-span-3 font-medium text-gray-800 pl-4 flex items-center">
                            <div class="attribute-icon"><i class="fas ${attr.icon}"></i></div>
                            <span class="attribute-name mr-2">${attr.subAttributesname}</span>
                             <i onclick="openworkInfoPanel(this)" class="fas fa-info-circle text-[#490648]" data-type="sub" data-sub-name="${attr.subAttributesname}"></i>
                        </div>
                        <div class="col-span-2 text-center px-2">
                            <span class="importance-badge capitalize">${attr.name}</span>
                           


                        </div>
                        <div class="col-span-5 px-6 flex flex-col items-center">
                           <!-- <div class="rating-scale w-full">
                                <div class="rating-scale-bg">
                                    <div class="rating-scale-fill" style="width: ${ratingWidth}%"></div>
                                    <div class="rating-tick tick-1"></div>
                                    <div class="rating-tick tick-2"></div>
                                    <div class="rating-tick tick-3"></div>
                                    <div class="rating-tick tick-4"></div>
                                    <div class="rating-tick tick-5"></div>
                                    <div class="rating-tick tick-6"></div>
                                    <div class="rating-tick tick-7"></div>
                                    <div class="rating-tick tick-8"></div>
                                    <div class="rating-tick tick-9"></div>
                                </div>
                                <div class="rating-separator separator-1"></div>
                                <div class="rating-separator separator-2"></div>
                                <div class="rating-scale-marker" style="left: ${ratingWidth}%"></div>
                            </div>
                            <div class="rating-segment-labels">
                                <div class="rating-segment-label">Below Average</div>
                                <div class="rating-segment-label">Average</div>
                                <div class="rating-segment-label">Above Average</div>
                            </div>-->
                        </div>
                        <div class="col-span-1 text-center px-4 flex justify-between items-center relative">
    <div class="invisible w-full absolute">
        <div class="risk-badge ${riskBadgeClass} flex-grow justify-center">
            <span class="risk-circle ${riskCircleClass}"></span>
            <span class="capitalize">${attr.risk}</span>
        </div>
    </div>
    </div>
    <div class="col-span-1 flex justify-center ms-2">
                            <button class="toggle-details ">
                                
                                <div class="toggle-icon">
                                    <i class="fas fa-plus"></i>
                                </div>
                            </button>
                            </div>


                    </div>
                    <div class="accordion-content px-4 bg-gray-50">
                        <div class="bg-white rounded-md shadow-sm border-l-4 primary-border p-4 mb-4">
                            <p class="text-gray-600">${attr.details}</p>
                        </div>
                        <div class="implications-container">
                            <div class="implications-card">
                                <div class="implications-title">
                                    <i class="fas fa-user-check text-sm"></i>
                                    <span>Behavioral Implications</span>
                                </div>
                                <ul class="implications-list">
                                    ${attr.behavioralImplications.map(item => `<li>${item}</li>`).join('')}
                                </ul>
                            </div>
                            <div class="implications-card">
                                <div class="implications-title">
                                    <i class="fas fa-crown text-sm"></i>
                                    <span>Leadership Implications</span>
                                </div>
                                <ul class="implications-list">
                                    ${attr.leadershipImplications.map(item => `<li>${item}</li>`).join('')}
                                </ul>
                            </div>
                            <div class="implications-card">
                                <div class="implications-title">
                                    <i class="fas fa-exclamation-triangle text-sm"></i>
                                    <span>Potential Challenges</span>
                                </div>
                                <ul class="implications-list">
                                    ${attr.potentialChallenges.map(item => `<li>${item}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                `;
                containerElement.appendChild(attributeElement);
            });
        }
    });

    // Toggle expand/collapse functionality
  containerElement.querySelectorAll('.toggle-details').forEach((btn) => {
    btn.addEventListener('click', function () {
        const content = this.closest('.grid').nextElementSibling;

        // --- START OF NEW CODE ---
        // Close all other open accordions globally
        document.querySelectorAll('.accordion-content.active').forEach(openContent => {
            if (openContent !== content) {
                openContent.classList.remove('active');
                const openBtn = openContent.previousElementSibling.querySelector('.toggle-details');
                if (openBtn) {
                    openBtn.classList.remove('active');
                    const openIcon = openBtn.querySelector('.toggle-icon i');
                    const openTooltip = openBtn.querySelector('.tooltip');
                    if (openIcon) {
                        openIcon.classList.remove('fa-minus');
                        openIcon.classList.add('fa-plus');
                    }
                    if (openTooltip) {
                        
                    }
                }
            }
        });
        // --- END OF NEW CODE ---

        content.classList.toggle('active');
        this.classList.toggle('active');

        const icon = this.querySelector('.toggle-icon i');
        const tooltip = this.querySelector('.tooltip');
        if (content.classList.contains('active')) {
            icon.classList.remove('fa-plus');
            icon.classList.add('fa-minus');
            
        } else {
            icon.classList.remove('fa-minus');
            icon.classList.add('fa-plus');
           
        }
    });
});

}


function renderleaadershipttributes(container, attributes) {
            const containerElement = document.getElementById(container);
            containerElement.innerHTML = '';
            
            if (attributes.length === 0) {
                containerElement.innerHTML = `
                    <div class="p-8 text-center text-gray-500">
                        <i class="fas fa-search mb-3 text-2xl"></i>
                        <p>No attributes match your current filter criteria.</p>
                    </div>
                `;
                return;
            }
            
            attributes.forEach((attr, index) => {
                // Make the bar smaller by using 85% of the actual rating value
                const ratingWidth = attr.rating * 85;
                
                // Risk styling
                let riskBadgeClass = "risk-badge-low";
                let riskCircleClass = "risk-low";
                if (attr.risk === "high") {
                    riskBadgeClass = "risk-badge-high";
                    riskCircleClass = "risk-high";
                } else if (attr.risk === "medium") {
                    riskBadgeClass = "risk-badge-medium";
                    riskCircleClass = "risk-medium";
                }
                
                const attributeElement = document.createElement('div');
                attributeElement.className = 'border-b border-gray-200 last:border-b-0';
                attributeElement.innerHTML = `
                    <div class="grid grid-cols-12 p-4 items-center hover:bg-gray-50 transition">
                        <div class="col-span-3 font-medium text-gray-800 pl-4 flex items-center">
                            <div class="attribute-icon">
                                <i class="fas ${attr.icon}"></i>
                            </div>
                            <span class="attribute-name">${attr.name}</span>
                        </div>
                        <div class="col-span-2 text-center px-2">
                            <span class="importance-badge capitalize">${attr.importance}</span>
                        </div>
                        <div class="col-span-5 px-6 flex flex-col items-center">
                            <div class="rating-scale w-full">
                                <div class="rating-scale-bg">
                                    <div class="rating-scale-fill" style="width: ${ratingWidth}%"></div>
                                    <!-- Tick marks for visual guidance -->
                                    <div class="rating-tick tick-1"></div>
                                    <div class="rating-tick tick-2"></div>
                                    <div class="rating-tick tick-3"></div>
                                    <div class="rating-tick tick-4"></div>
                                    <div class="rating-tick tick-5"></div>
                                    <div class="rating-tick tick-6"></div>
                                    <div class="rating-tick tick-7"></div>
                                    <div class="rating-tick tick-8"></div>
                                    <div class="rating-tick tick-9"></div>
                                </div>
                                <div class="rating-separator separator-1"></div>
                                <div class="rating-separator separator-2"></div>
                                <!-- Updated marker positioning to be at the end of the filled bar -->
                                <div class="rating-scale-marker" style="left: ${ratingWidth}%"></div>
                            </div>
                            <div class="rating-segment-labels">
                                <div class="rating-segment-label">Below Average</div>
                                <div class="rating-segment-label">Average</div>
                                <div class="rating-segment-label">Above Average</div>
                            </div>
                        </div>
                        <div class="col-span-1 text-center px-4 flex justify-center items-center">
                            </div>
                           <div class="col-span-1 flex justify-center ms-2">
                            <button class="toggle-details ">
                                
                                <div class="toggle-icon">
                                    <i class="fas fa-plus"></i>
                                </div>
                            </button>
                            </div>
                    </div>
                    <div class="accordion-content px-4 bg-gray-50">
                        <div class="bg-white rounded-md shadow-sm border-l-4 primary-border p-4 mb-4">
                            <p class="text-gray-600">${attr.details}</p>
                        </div>
                         <div class="implications-container">
                                                    <div class="implications-card">
                                                        <div class="implications-title">
                                                            <i class="fas fa-user-check text-sm"></i>
                                                            <span>Behavioral Implications</span>
                                                        </div>
                                                        <ul class="implications-list">
                                                            ${attr.behavioralImplications.map(item => `<li>${item}</li>`).join('')}
                                                        </ul>
                                                    </div>
                                                    <div class="implications-card">
                                                        <div class="implications-title">
                                                            <i class="fas fa-crown text-sm"></i>
                                                            <span>Leadership Implications</span>
                                                        </div>
                                                        <ul class="implications-list">
                                                            ${attr.leadershipImplications.map(item => `<li>${item}</li>`).join('')}
                                                        </ul>
                                                    </div>
                                                    <div class="implications-card">
                                                        <div class="implications-title">
                                                            <i class="fas fa-exclamation-triangle text-sm"></i>
                                                            <span>Potential Challenges</span>
                                                        </div>
                                                        <ul class="implications-list">
                                                            ${attr.potentialChallenges.map(item => `<li>${item}</li>`).join('')}
                                                        </ul>
                                                    </div>
                                                </div>
                    </div>
                `;
                
                containerElement.appendChild(attributeElement);
            });
            
            // Add event listeners to main toggle buttons
containerElement.querySelectorAll('.toggle-details').forEach((btn) => {
    btn.addEventListener('click', function() {
        const content = this.closest('.grid').nextElementSibling;

        // NEW: Close all other open accordions globally
        document.querySelectorAll('.accordion-content.active').forEach(openContent => {
            if (openContent !== content) {
                openContent.classList.remove('active');
                const openBtn = openContent.previousElementSibling.querySelector('.toggle-details');
                if (openBtn) {
                    openBtn.classList.remove('active');
                    const iconContainer = openBtn.querySelector('.toggle-icon');
                    const icon = iconContainer.querySelector('i');
                    icon.classList.remove('fa-minus');
                    icon.classList.add('fa-plus');
                   
                }
            }
        });

        // Toggle this accordion
        const isNowActive = !content.classList.contains('active');
        content.classList.toggle('active', isNowActive);
        this.classList.toggle('active', isNowActive);

        // Toggle icon
        const iconContainer = this.querySelector('.toggle-icon');
        const icon = iconContainer.querySelector('i');
        if (isNowActive) {
            icon.classList.remove('fa-plus');
            icon.classList.add('fa-minus');
            
        } else {
            icon.classList.remove('fa-minus');
            icon.classList.add('fa-plus');
           
        }
    });
});

            
            // Add event listeners to sub-attribute toggle buttons
            
        }
        // Function to render attributes
        function renderAttributes(container, attributes) {
            const containerElement = document.getElementById(container);
            containerElement.innerHTML = '';
            
            if (attributes.length === 0) {
                containerElement.innerHTML = `
                    <div class="p-8 text-center text-gray-500">
                        <i class="fas fa-search mb-3 text-2xl"></i>
                        <p>No attributes match your current filter criteria.</p>
                    </div>
                `;
                return;
            }
            
            attributes.forEach((attr, index) => {
                // Make the bar smaller by using 85% of the actual rating value
                const ratingWidth = attr.rating * 85;
                
                // Risk styling
                let riskBadgeClass = "risk-badge-low";
                let riskCircleClass = "risk-low";
                if (attr.risk === "high") {
                    riskBadgeClass = "risk-badge-high";
                    riskCircleClass = "risk-high";
                } else if (attr.risk === "medium") {
                    riskBadgeClass = "risk-badge-medium";
                    riskCircleClass = "risk-medium";
                }
                
                const attributeElement = document.createElement('div');
                attributeElement.className = 'border-b border-gray-200 last:border-b-0';
                attributeElement.innerHTML = `
                    <div class="grid grid-cols-12 p-4 items-center hover:bg-gray-50 transition">
                        <div class="col-span-3 font-medium text-gray-800 pl-4 flex items-center">
                            <div class="attribute-icon">
                                <i class="fas ${attr.icon}"></i>
                            </div>
                            <span class="attribute-name">${attr.name}</span>
                           <i onclick="openInfoPanel(this)"  class="fas fa-info-circle text-[#490648]  text-xs ml-2" data-type="main" data-main-index="${index}" title="More info about Energy & Drive"></i>

                        </div>
                        <div class="col-span-2 text-center px-2">
                            <span class="importance-badge capitalize">${attr.importance}</span>
                        </div>
                        <div class="col-span-5 px-6 flex flex-col items-center">
                            <div class="rating-scale w-full">
                                <div class="rating-scale-bg">
                                    <div class="rating-scale-fill" style="width: ${ratingWidth}%"></div>
                                    <!-- Tick marks for visual guidance -->
                                    <div class="rating-tick tick-1"></div>
                                    <div class="rating-tick tick-2"></div>
                                    <div class="rating-tick tick-3"></div>
                                    <div class="rating-tick tick-4"></div>
                                    <div class="rating-tick tick-5"></div>
                                    <div class="rating-tick tick-6"></div>
                                    <div class="rating-tick tick-7"></div>
                                    <div class="rating-tick tick-8"></div>
                                    <div class="rating-tick tick-9"></div>
                                </div>
                                <div class="rating-separator separator-1"></div>
                                <div class="rating-separator separator-2"></div>
                                <!-- Updated marker positioning to be at the end of the filled bar -->
                                <div class="rating-scale-marker" style="left: ${ratingWidth}%"></div>
                            </div>
                            <div class="rating-segment-labels">
                                <div class="rating-segment-label">Below Average</div>
                                <div class="rating-segment-label">Average</div>
                                <div class="rating-segment-label">Above Average</div>
                            </div>
                        </div>
                        <div class="col-span-1 text-center flex  items-center justify-center">
                            <div class="risk-badge ${riskBadgeClass} ms-2  flex items-center justify-center">
                                <span class="risk-circle ${riskCircleClass}"></span>
                                <span class="capitalize">${attr.risk}</span>
                            </div>
                          </div>
                             <div class="col-span-1 flex justify-center ms-2">
                            <button class="toggle-details ">
                                
                                <div class="toggle-icon">
                                    <i class="fas fa-plus"></i>
                                </div>
                            </button>
                            </div>
                       
                    </div>
                    <div class="accordion-content px-4 bg-gray-50">
                        <div class="bg-white rounded-md shadow-sm border-l-4 primary-border p-4 mb-4">
                            <p class="text-gray-600">${attr.details}</p>
                        </div>
                        
                        <!-- Sub-attributes section -->
                        <div class="sub-attributes-container w-[95%] ml-auto">
                            <h3 class="text-gray-700 font-medium mb-3">Sub-attributes</h3>
                          ${(attr.subAttributes || []).map((subAttr, subAttrIndex) => {
  const subRatingWidth = subAttr.rating * 85;
  const riskAttributes = new Set([
  "Excitable",
  "Skeptical",
  "Cautious",
  "Reserved",
  "Leisurely",
  "Bold",
  "Mischievous",
  "Colorful",
  "Imaginative",
  "Diligent",
  "Dutiful"
]);

  const isRisk = riskAttributes.has(subAttr.name);
const segmentLabels = isRisk
  ? ['No Risk', 'Low Risk', 'Moderate Risk', 'High Risk']
  : ['Below Average', 'Average', 'Above Average'];

// Define separator positions based on attribute type
let separatorPercents;
if (isRisk) {
  // Custom split for risk attributes — adjust these % as needed!
  separatorPercents = [35, 65, 85];
} else {
  // Even split for others (e.g., 3 segments → 33.33%, 66.66%)
  separatorPercents = [100 / segmentLabels.length, 2 * 100 / segmentLabels.length];
}

const separatorsHTML = separatorPercents
  .map(left => `<div class="rating-separator" style="left: ${left}%;"></div>`)
  .join('');


  return `
    <div class="sub-attribute-container mb-3 ">
      <div class="sub-attribute-header" data-toggle="sub-accordion">
        <div class="sub-rating-container">
          <div class="flex items-center">
            <div class="sub-attribute-icon">
              <i class="fas ${subAttr.icon}"></i>
            </div>
            <span class="sub-attribute-name">${subAttr.name}</span>
            <i onclick="openInfoPanel(this)" 
               class="fas fa-info-circle text-[#490648] text-xs ml-2"
               data-type="sub"
               data-sub-index="${subAttrIndex}" 
               data-main-index="${index}" 
               title="More info about ${subAttr.name}">
            </i>
          </div>

         <div class="px-6 flex flex-col items-center">
    <div class="rating-scale w-full">
      <div class="rating-scale-bg">
        <div class="rating-scale-fill" style="width: ${subRatingWidth}%"></div>
        ${Array.from({ length: 9 }, (_, i) => `<div class="rating-tick tick-${i + 1}"></div>`).join('')}
      </div>
      ${separatorsHTML}
      <div class="rating-scale-marker" style="left: ${subRatingWidth}%"></div>
    </div>
    <div class="rating-segment-labels">
      ${segmentLabels.map(label => `<div class="rating-segment-label">${label}</div>`).join('')}
    </div>
  </div>

          <div class="flex justify-end">
           <button class="bg-white rounded-full px-6 text-sm py-1 text-[#490648] border border-[#490648]" onclick="openImplications(${index}, ${subAttrIndex})">View</button>

          </div>
        </div>
      </div>

    
    </div>
  `;
}).join('')}

                        </div>
                    </div>
                `;
                
                containerElement.appendChild(attributeElement);
            });
            
            // Add event listeners to main toggle buttons
           containerElement.querySelectorAll('.toggle-details').forEach((btn) => {
    btn.addEventListener('click', function() {
        const thisContent = this.closest('.grid').nextElementSibling;

        // Close all other open accordions (global)
        document.querySelectorAll('.accordion-content.active').forEach(openContent => {
            if (openContent !== thisContent) {
                openContent.classList.remove('active');
                // Reset icon & tooltip
                const openBtn = openContent.previousElementSibling.querySelector('.toggle-details');
                if (openBtn) {
                    openBtn.classList.remove('active');
                    const iconContainer = openBtn.querySelector('.toggle-icon');
                    const icon = iconContainer.querySelector('i');
                    icon.classList.remove('fa-minus');
                    icon.classList.add('fa-plus');
                    
                }
            }
        });

        // Toggle this one
        const isNowActive = !thisContent.classList.contains('active');
        thisContent.classList.toggle('active', isNowActive);
        this.classList.toggle('active', isNowActive);

        // Toggle icon & tooltip
        const iconContainer = this.querySelector('.toggle-icon');
        const icon = iconContainer.querySelector('i');
        if (isNowActive) {
            icon.classList.remove('fa-plus');
            icon.classList.add('fa-minus');
            
        } else {
            icon.classList.remove('fa-minus');
            icon.classList.add('fa-plus');
            
        }
    });
});

            
            // Add event listeners to sub-attribute toggle buttons
         containerElement.querySelectorAll('.sub-attribute-header').forEach((header) => {
    header.addEventListener('click', function() {
        const thisContent = this.nextElementSibling;

        // Close all other sub-accordion contents globally
        document.querySelectorAll('.sub-accordion-content.active').forEach(openContent => {
            if (openContent !== thisContent) {
                openContent.classList.remove('active');
                // Reset icon
                const openHeader = openContent.previousElementSibling;
                if (openHeader) {
                    const icon = openHeader.querySelector('.toggle-sub-details i');
                    if (icon) {
                        icon.classList.remove('fa-chevron-up');
                        icon.classList.add('fa-chevron-down');
                    }
                }
            }
        });

        // Toggle this one
        const isNowActive = !thisContent.classList.contains('active');
        thisContent.classList.toggle('active', isNowActive);

        // Toggle icon
        const icon = this.querySelector('.toggle-sub-details i');
        if (icon) {
            if (isNowActive) {
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-up');
            } else {
                icon.classList.remove('fa-chevron-up');
                icon.classList.add('fa-chevron-down');
            }
        }
    });
});



        }

        function closeImplications() {
  document.getElementById('implicationModalOverlay').classList.remove('visible');
  document.body.style.overflow = 'auto';
}

        function openImplications(attrIndex, subAttrIndex) {
 const data = personalAttributes[attrIndex].subAttributes[subAttrIndex];
 console.log('Opening implications for:', data);

  if (!data) return; // Safety check

  // Fill the modal cards dynamically
  document.getElementById('implicationCardsContainer').innerHTML = `
    <div class="card">
      <div class="card-header">
        <div class="card-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13.5 2c-5.621 0-10.211 4.443-10.475 10h-3.025l5 6.625 5-6.625h-2.975c.257-3.351 3.06-6 6.475-6 3.584 0 6.5 2.916 6.5 6.5s-2.916 6.5-6.5 6.5c-1.863 0-3.542-.793-4.728-2.053l-2.427 3.216c1.877 1.754 4.389 2.837 7.155 2.837 5.79 0 10.5-4.71 10.5-10.5s-4.71-10.5-10.5-10.5z"/></svg>
        </div>
        <h2 class="card-title">Behavioral Implications</h2>
      </div>
      <ul>${(data.behavioralImplications || []).map(item => `<li>${item}</li>`).join('')}</ul>
    </div>
    <div class="card">
      <div class="card-header">
        <div class="card-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"/></svg>
        </div>
        <h2 class="card-title">Leadership Implications</h2>
      </div>
      <ul>${(data.leadershipImplications || []).map(item => `<li>${item}</li>`).join('')}</ul>
    </div>
    <div class="card">
      <div class="card-header">
        <div class="card-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5.177l8.631 15.823h-17.262l8.631-15.823zm0-4.177l-12 22h24l-12-22zm-1 9h2v6h-2v-6zm1 9.75c-.689 0-1.25-.56-1.25-1.25s.561-1.25 1.25-1.25 1.25.56 1.25 1.25-.561 1.25-1.25 1.25z"/></svg>
        </div>
        <h2 class="card-title">Potential Challenges</h2>
      </div>
      <ul>${(data.potentialChallenges || []).map(item => `<li>${item}</li>`).join('')}</ul>
    </div>
  `;

  // Show the modal
  document.getElementById('implicationModalOverlay').classList.add('visible');
  document.body.style.overflow = 'hidden';
}

        
        // Filter attributes based on category and importance
        function filterAttributes(categoryFilter = 'all', importanceFilter = 'all') {
            // Filter by category
            let filteredByCategory = allAttributes;
            if (categoryFilter !== 'all') {
                filteredByCategory = allAttributes.filter(attr => attr.category === categoryFilter);
            }
            
            // Filter by importance
            let filteredAttributes = filteredByCategory;
            if (importanceFilter !== 'all') {
                filteredAttributes = filteredByCategory.filter(attr => attr.importance === importanceFilter);
            }
            
            // Show/hide sections based on category filter
            document.querySelectorAll('.section-container').forEach(section => {
                const sectionId = section.id.split('-')[0]; // Extract 'personal', 'work', or 'leadership'
                
                if (categoryFilter === 'all' || categoryFilter === sectionId) {
                    section.classList.remove('hidden');
                } else {
                    section.classList.add('hidden');
                }
            });
            
            // Render filtered attributes in their respective containers
            if (categoryFilter === 'all' || categoryFilter === 'personal') {
                const personalFiltered = filteredAttributes.filter(attr => attr.category === 'personal');
                renderAttributes('personal-attributes-container', personalFiltered);
            }
            
            if (categoryFilter === 'all' || categoryFilter === 'work') {
                const workFiltered = filteredAttributes.filter(attr => attr.category === 'work');
                renderworkAttributes('work-attributes-container', workFiltered);
            }
            
            if (categoryFilter === 'all' || categoryFilter === 'leadership') {
                const leadershipFiltered = filteredAttributes.filter(attr => attr.category === 'leadership');
                renderleaadershipttributes('leadership-attributes-container', leadershipFiltered);
            }
        }
        
        // Initialize with all attributes
        filterAttributes();
        
        // Global variables to track current filters
        let currentCategoryFilter = 'all';
        let currentImportanceFilter = 'all';
        
        // Add event listeners to category filter buttons
        document.querySelectorAll('.category-filter').forEach(btn => {
            btn.addEventListener('click', function() {
                const categoryValue = this.getAttribute('data-category');
                currentCategoryFilter = categoryValue;
                
                // Update active button styling
                document.querySelectorAll('.category-filter').forEach(b => {
                    b.classList.remove('primary-bg', 'text-white');
                    b.classList.add('bg-gray-200', 'text-gray-700');
                });
                this.classList.remove('bg-gray-200', 'text-gray-700');
                this.classList.add('primary-bg', 'text-white');
                
                // Apply filters
                filterAttributes(currentCategoryFilter, currentImportanceFilter);
            });
        });
        
        // Custom dropdown functionality
        const importanceSelect = document.getElementById('importance-select');
        const importanceOptions = document.getElementById('importance-options');
        
        // Toggle dropdown
        importanceSelect.addEventListener('click', function() {
            importanceOptions.classList.toggle('show');
            
            // Toggle chevron direction
            const chevron = this.querySelector('i');
            if (importanceOptions.classList.contains('show')) {
                chevron.classList.remove('fa-chevron-down');
                chevron.classList.add('fa-chevron-up');
            } else {
                chevron.classList.remove('fa-chevron-up');
                chevron.classList.add('fa-chevron-down');
            }
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            if (!importanceSelect.contains(event.target)) {
                importanceOptions.classList.remove('show');
                const chevron = importanceSelect.querySelector('i');
                chevron.classList.remove('fa-chevron-up');
                chevron.classList.add('fa-chevron-down');
            }
        });
        
        // Select option
        document.querySelectorAll('.select-item').forEach(item => {
            item.addEventListener('click', function() {
                const value = this.getAttribute('data-value');
                const text = this.textContent;
                
                // Update selected text
                importanceSelect.querySelector('span').textContent = text;
                
                // Update selected item styling
                document.querySelectorAll('.select-item').forEach(i => {
                    i.classList.remove('selected');
                });
                this.classList.add('selected');
                
                // Close dropdown
                importanceOptions.classList.remove('show');
                const chevron = importanceSelect.querySelector('i');
                chevron.classList.remove('fa-chevron-up');
                chevron.classList.add('fa-chevron-down');
                
                // Apply filter
                currentImportanceFilter = value;
                filterAttributes(currentCategoryFilter, currentImportanceFilter);
            });
        });
        
        function toggleBox() {
  document.getElementById("chatsection").style.display = "block";
}
function addMessage(content, from = 'bot') {
    const chatMessages = document.getElementById('chatMessages');
    const msgDiv = document.createElement('div');
    msgDiv.className = from === 'bot'
      ? 'bot-message bg-gray-200 text-gray-900 rounded-xl p-4 w-fit max-w-[80%]'
      : 'user-message bg-[#490648] text-white rounded-xl p-3 ml-auto w-fit max-w-[80%]';
    msgDiv.textContent = content;
    chatMessages.appendChild(msgDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }

  // Utility to add a list of clickable option buttons
  function addOptions(options) {
    const chatMessages = document.getElementById('chatMessages');
    const optionsDiv = document.createElement('div');
    optionsDiv.className = "option-buttons mt-4 flex flex-col gap-3";
    options.forEach(opt => {
      const btn = document.createElement('button');
      btn.className = "option-btn border border-[#490648] text-[#490648] rounded-xl px-4 py-2 text-left hover:bg-[#490648]/10 transition";
      btn.innerHTML = `<span class="mr-2">${opt.icon}</span> ${opt.label}`;
      btn.onclick = opt.onClick;
      optionsDiv.appendChild(btn);
    });
    chatMessages.appendChild(optionsDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }

  // Initial greeting and options
  function initialBotMessage() {
    addMessage("Hello! I’m your Insights Partner, here to help you get the most from your detailed report. How can I assist you today?");
    addOptions([
      {
        icon: "1️⃣",
        label: "Tell me more about the personality tests",
        onClick: () => {
          addMessage("Tell me more about the personality tests", "user");
          document.querySelector('.option-buttons').remove();
          setTimeout(showPersonalityTests, 300);
        }
      },
      {
        icon: "2️⃣",
        label: "Help me understand my scores",
        onClick: () => {
          addMessage("Help me understand my scores", "user");
          document.querySelector('.option-buttons').remove();
          setTimeout(showEnergyAndDrive, 300);
        }
      },
      {
        icon: "3️⃣",
        label: "Share additional insights and recommendations",
        onClick: () => {
          addMessage("Share additional insights and recommendations", "user");
          document.querySelector('.option-buttons').remove();
          setTimeout(() => {
            addMessage("Here are some additional insights and recommendations tailored for your development. (Add your logic here!)");
          }, 300);
        }
      },
      {
        icon: "4️⃣",
        label: "I have a different question",
        onClick: () => {
          addMessage("I have a different question", "user");
          document.querySelector('.option-buttons').remove();
          setTimeout(() => {
            addMessage("Please type your question below and I'll do my best to assist!");
          }, 300);
        }
      },
    ]);
  }

  // Follow-up for option 1
  function showPersonalityTests() {
    addMessage("Which personality test would you like to learn more about?");
    addOptions([
      {
        icon: "1.",
        label: "Hogan Assessment",
        onClick: () => {
          addMessage("Hogan Assessment", "user");
          document.querySelector('.option-buttons').remove();
          setTimeout(() => {
            addMessage("The Hogan Assessment evaluates your personality characteristics and how they influence workplace performance.");
          }, 300);
        }
      },
      {
        icon: "2.",
        label: "Burke Assessment",
        onClick: () => {
          addMessage("Burke Assessment", "user");
          document.querySelector('.option-buttons').remove();
          setTimeout(() => {
            addMessage("The Burke Assessment measures adaptability and learning agility in professional contexts.");
          }, 300);
        }
      },
      {
        icon: "3.",
        label: "Clifton Assessment",
        onClick: () => {
          addMessage("Clifton Assessment", "user");
          document.querySelector('.option-buttons').remove();
          setTimeout(() => {
            addMessage("The Clifton Assessment identifies your strengths to help maximize your potential.");
          }, 300);
        }
      }
    ]);
  }

  // Follow-up for option 2
  function showEnergyAndDrive() {
    addMessage("Looks like you’re viewing the Energy and Drive section of your report.\n\nEnergy and Drive reflects your motivation, ambition, and enthusiasm for pursuing goals. Higher scores often indicate a proactive approach, willingness to take initiative, and resilience in the face of challenges. Lower scores may suggest a preference for steady, consistent effort and a more measured approach to new opportunities.\n\nLet me know if you’d like to learn more about any other attribute from your report.");
  }

  // User sends message via text input
  function sendMessage(msgFromButton) {
    const input = document.getElementById('userInput');
    const chatMessages = document.getElementById('chatMessages');
    const msg = msgFromButton ? msgFromButton.trim() : input.value.trim();
    if (msg !== "") {
      addMessage(msg, "user");
      // Remove options if present (for custom questions)
      const optionButtons = document.querySelector('.option-buttons');
      if (optionButtons) optionButtons.remove();
      setTimeout(() => {
        addMessage("Thank you for your reply");
      }, 500);
      if (!msgFromButton) input.value = "";
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
  }

  // Hide panel (for demo)
  function hideBox() {
    document.getElementById('chatsection').style.display = 'none';
  }

  // Initialize on page load
  window.onload = function() {
    initialBotMessage();
    document.getElementById('userInput').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') sendMessage();
    });
  };
        </script>
        <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'963cbc9a06c08adc',t:'MTc1MzI5MDA1NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
    </body>
</html>
